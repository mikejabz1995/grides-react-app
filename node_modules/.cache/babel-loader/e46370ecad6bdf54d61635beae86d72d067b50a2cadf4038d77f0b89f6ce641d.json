{"ast":null,"code":"var _jsxFileName = \"/Users/mikejabrhamdan/grides-react-app/src/components/Step2.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Step2 = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [vehicles, setVehicles] = useState([]);\n  useEffect(() => {\n    const fetchVehicles = async () => {\n      try {\n        const step2Data = JSON.parse(localStorage.getItem('step2Data'));\n        const token = localStorage.getItem('token');\n\n        // Extracting parameters from step2Data\n        const {\n          pickupDateTime,\n          returnDateTime,\n          selectedLocation\n        } = step2Data;\n\n        // Format date_from and date_to\n        const fromDate = encodeURIComponent(pickupDateTime);\n        const toDate = encodeURIComponent(returnDateTime);\n\n        // Constructing URL with parameters\n        const url = `https://calm-retreat-90846-cd036e8a822e.herokuapp.com/https://api.rentsyst.com/v2/booking/search?date_from=${fromDate}&date_to=${toDate}&pickup_location=${selectedLocation}&return_location=${selectedLocation}`;\n        const response = await axios.get(url, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('Response data:', response.data);\n\n        // Check if response data and search exist\n        if (!response.data || !response.data.vehicles) {\n          throw new Error('Invalid response data format');\n        }\n\n        // Parse the vehicles from the response\n        const vehicles = response.data.vehicles.map(vehicle => ({\n          id: vehicle.id,\n          year: vehicle.year,\n          number_seats: vehicle.number_seats,\n          number_doors: vehicle.number_doors,\n          large_bags: vehicle.large_bags,\n          small_bags: vehicle.small_bags,\n          odometer: vehicle.odometer,\n          mark: vehicle.brand + ' ' + vehicle.mark,\n          group: vehicle.group,\n          color: {\n            title: vehicle.color.title,\n            code: vehicle.color.code\n          },\n          type: vehicle.type,\n          body_type: vehicle.body_type,\n          min_price: vehicle.min_price,\n          price: vehicle.price,\n          status: vehicle.status,\n          currency: vehicle.currency,\n          consumption: vehicle.consumption,\n          fuel: vehicle.fuel,\n          volume_tank: vehicle.volume_tank,\n          volume_engine: vehicle.volume_engine,\n          transmission: vehicle.transmission,\n          options: vehicle.options.map(option => ({\n            id: option.id,\n            name: option.name,\n            icon: option.icon\n          })),\n          thumbnail: vehicle.thumbnail,\n          thumbnails: vehicle.thumbnails,\n          photos: vehicle.photos,\n          custom_fields: vehicle.custom_fields,\n          wheel_drive: vehicle.wheel_drive,\n          registration_number: vehicle.registration_number,\n          total_price: vehicle.total_price,\n          price_before_discount: vehicle.price_before_discount,\n          count_days: vehicle.count_days,\n          refill: vehicle.refill,\n          mileage_limit: vehicle.mileage_limit\n        }));\n\n        // Store the parsed vehicles in the state\n        setVehicles(vehicles);\n      } catch (error) {\n        console.error('Error fetching vehicles:', error);\n        setError('Failed to fetch vehicles: ' + error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchVehicles();\n  }, []); // Add empty dependency array to useEffect\n\n  console.log('Loading:', loading);\n  console.log('Error:', error);\n  console.log('Vehicles:', vehicles);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"step2-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/logo.png\",\n      alt: \"Logo\",\n      className: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading Available Vehicles...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }, this), \" \", error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }, this), !loading && !error && vehicles.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No vehicles available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 55\n    }, this), !loading && !error && vehicles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vehicle-list\",\n      children: vehicles.map(vehicle => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vehicle-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vehicle-thumbnail\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: vehicle.thumbnail,\n            alt: `${vehicle.mark}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vehicle-details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }, this)]\n      }, vehicle.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_s(Step2, \"R5tNv50n3/H9ouG7VPF4S1V8UC4=\");\n_c = Step2;\nexport default Step2;\nvar _c;\n$RefreshReg$(_c, \"Step2\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Step2","_s","loading","setLoading","error","setError","vehicles","setVehicles","fetchVehicles","step2Data","JSON","parse","localStorage","getItem","token","pickupDateTime","returnDateTime","selectedLocation","fromDate","encodeURIComponent","toDate","url","response","get","headers","Authorization","console","log","data","Error","map","vehicle","id","year","number_seats","number_doors","large_bags","small_bags","odometer","mark","brand","group","color","title","code","type","body_type","min_price","price","status","currency","consumption","fuel","volume_tank","volume_engine","transmission","options","option","name","icon","thumbnail","thumbnails","photos","custom_fields","wheel_drive","registration_number","total_price","price_before_discount","count_days","refill","mileage_limit","message","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","length","_c","$RefreshReg$"],"sources":["/Users/mikejabrhamdan/grides-react-app/src/components/Step2.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst Step2 = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [vehicles, setVehicles] = useState([]);\n\n  useEffect(() => {\n    const fetchVehicles = async () => {\n      try {\n        const step2Data = JSON.parse(localStorage.getItem('step2Data'));\n        const token = localStorage.getItem('token');\n\n        // Extracting parameters from step2Data\n        const { pickupDateTime, returnDateTime, selectedLocation } = step2Data;\n\n        // Format date_from and date_to\n        const fromDate = encodeURIComponent(pickupDateTime);\n        const toDate = encodeURIComponent(returnDateTime);\n\n        // Constructing URL with parameters\n        const url = `https://calm-retreat-90846-cd036e8a822e.herokuapp.com/https://api.rentsyst.com/v2/booking/search?date_from=${fromDate}&date_to=${toDate}&pickup_location=${selectedLocation}&return_location=${selectedLocation}`;\n\n        const response = await axios.get(url, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        console.log('Response data:', response.data);\n\n        // Check if response data and search exist\n        if (!response.data || !response.data.vehicles) {\n          throw new Error('Invalid response data format');\n        }\n\n        // Parse the vehicles from the response\n        const vehicles = response.data.vehicles.map(vehicle => ({\n          id: vehicle.id,\n          year: vehicle.year,\n          number_seats: vehicle.number_seats,\n          number_doors: vehicle.number_doors,\n          large_bags: vehicle.large_bags,\n          small_bags: vehicle.small_bags,\n          odometer: vehicle.odometer,\n          mark: vehicle.brand + ' ' + vehicle.mark,\n          group: vehicle.group,\n          color: {\n            title: vehicle.color.title,\n            code: vehicle.color.code\n          },\n          type: vehicle.type,\n          body_type: vehicle.body_type,\n          min_price: vehicle.min_price,\n          price: vehicle.price,\n          status: vehicle.status,\n          currency: vehicle.currency,\n          consumption: vehicle.consumption,\n          fuel: vehicle.fuel,\n          volume_tank: vehicle.volume_tank,\n          volume_engine: vehicle.volume_engine,\n          transmission: vehicle.transmission,\n          options: vehicle.options.map(option => ({\n            id: option.id,\n            name: option.name,\n            icon: option.icon\n          })),\n          thumbnail: vehicle.thumbnail,\n          thumbnails: vehicle.thumbnails,\n          photos: vehicle.photos,\n          custom_fields: vehicle.custom_fields,\n          wheel_drive: vehicle.wheel_drive,\n          registration_number: vehicle.registration_number,\n          total_price: vehicle.total_price,\n          price_before_discount: vehicle.price_before_discount,\n          count_days: vehicle.count_days,\n          refill: vehicle.refill,\n          mileage_limit: vehicle.mileage_limit\n        }));\n\n        // Store the parsed vehicles in the state\n        setVehicles(vehicles);\n      } catch (error) {\n        console.error('Error fetching vehicles:', error);\n        setError('Failed to fetch vehicles: ' + error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchVehicles();\n  }, []); // Add empty dependency array to useEffect\n\n  console.log('Loading:', loading);\n  console.log('Error:', error);\n  console.log('Vehicles:', vehicles);\n\n  return (\n    <div className=\"step2-container\">\n      <img src=\"/logo.png\" alt=\"Logo\" className=\"logo\" />\n      {loading && <p>Loading Available Vehicles...</p>} {/* Changed loading message */}\n      {error && <p>{error}</p>}\n      {!loading && !error && vehicles.length === 0 && <p>No vehicles available</p>}\n      {!loading && !error && vehicles.length > 0 && (\n        <div className=\"vehicle-list\">\n          {vehicles.map(vehicle => (\n            <div key={vehicle.id} className=\"vehicle-item\">\n              <div className=\"vehicle-thumbnail\">\n                <img src={vehicle.thumbnail} alt={`${vehicle.mark}`} />\n              </div>\n              <div className=\"vehicle-details\">\n                {/* Vehicle details */}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Step2;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}