{"ast":null,"code":"import*as React from'react';import{useLayoutEffect,useEffect,useRef}from'react';import{stopEvent,getDocument,isMouseLikePointerType,contains,activeElement,isSafari,isTypeableCombobox,isVirtualClick,isVirtualPointerEvent,getTarget,getPlatform,isTypeableElement,isReactEvent,isRootElement,isEventTargetWithin,isMac,getUserAgent}from'@floating-ui/react/utils';import{floor}from'@floating-ui/utils';import{platform,getOverflowAncestors,useFloating as useFloating$1,offset,detectOverflow}from'@floating-ui/react-dom';export{arrow,autoPlacement,autoUpdate,computePosition,detectOverflow,flip,getOverflowAncestors,hide,inline,limitShift,offset,platform,shift,size}from'@floating-ui/react-dom';import{isElement,isHTMLElement,getNodeName,getWindow,isLastTraversableNode,getParentNode,getComputedStyle}from'@floating-ui/utils/dom';import{tabbable}from'tabbable';import{createPortal,flushSync}from'react-dom';/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */function useMergeRefs(refs){// biome-ignore lint/correctness/useExhaustiveDependencies: intentional\nreturn React.useMemo(()=>{if(refs.every(ref=>ref==null)){return null;}return value=>{refs.forEach(ref=>{if(typeof ref==='function'){ref(value);}else if(ref!=null){ref.current=value;}});};},refs);}// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect=React[/*#__PURE__*/'useInsertionEffect'.toString()];const useSafeInsertionEffect=useInsertionEffect||(fn=>fn());function useEffectEvent(callback){const ref=React.useRef(()=>{if(process.env.NODE_ENV!==\"production\"){throw new Error('Cannot call an event handler while rendering.');}});useSafeInsertionEffect(()=>{ref.current=callback;});return React.useCallback(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return ref.current==null?void 0:ref.current(...args);},[]);}const ARROW_UP='ArrowUp';const ARROW_DOWN='ArrowDown';const ARROW_LEFT='ArrowLeft';const ARROW_RIGHT='ArrowRight';function isDifferentRow(index,cols,prevRow){return Math.floor(index/cols)!==prevRow;}function isIndexOutOfBounds(listRef,index){return index<0||index>=listRef.current.length;}function getMinIndex(listRef,disabledIndices){return findNonDisabledIndex(listRef,{disabledIndices});}function getMaxIndex(listRef,disabledIndices){return findNonDisabledIndex(listRef,{decrement:true,startingIndex:listRef.current.length,disabledIndices});}function findNonDisabledIndex(listRef,_temp){let{startingIndex=-1,decrement=false,disabledIndices,amount=1}=_temp===void 0?{}:_temp;const list=listRef.current;const isDisabledIndex=disabledIndices?index=>disabledIndices.includes(index):index=>{const element=list[index];return element==null||element.hasAttribute('disabled')||element.getAttribute('aria-disabled')==='true';};let index=startingIndex;do{index+=decrement?-amount:amount;}while(index>=0&&index<=list.length-1&&isDisabledIndex(index));return index;}function getGridNavigatedIndex(elementsRef,_ref){let{event,orientation,loop,cols,disabledIndices,minIndex,maxIndex,prevIndex,stopEvent:stop=false}=_ref;let nextIndex=prevIndex;if(event.key===ARROW_UP){stop&&stopEvent(event);if(prevIndex===-1){nextIndex=maxIndex;}else{nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:nextIndex,amount:cols,decrement:true,disabledIndices});if(loop&&(prevIndex-cols<minIndex||nextIndex<0)){const col=prevIndex%cols;const maxCol=maxIndex%cols;const offset=maxIndex-(maxCol-col);if(maxCol===col){nextIndex=maxIndex;}else{nextIndex=maxCol>col?offset:offset-cols;}}}if(isIndexOutOfBounds(elementsRef,nextIndex)){nextIndex=prevIndex;}}if(event.key===ARROW_DOWN){stop&&stopEvent(event);if(prevIndex===-1){nextIndex=minIndex;}else{nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex,amount:cols,disabledIndices});if(loop&&prevIndex+cols>maxIndex){nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex%cols-cols,amount:cols,disabledIndices});}}if(isIndexOutOfBounds(elementsRef,nextIndex)){nextIndex=prevIndex;}}// Remains on the same row/column.\nif(orientation==='both'){const prevRow=floor(prevIndex/cols);if(event.key===ARROW_RIGHT){stop&&stopEvent(event);if(prevIndex%cols!==cols-1){nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex,disabledIndices});if(loop&&isDifferentRow(nextIndex,cols,prevRow)){nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex-prevIndex%cols-1,disabledIndices});}}else if(loop){nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex-prevIndex%cols-1,disabledIndices});}if(isDifferentRow(nextIndex,cols,prevRow)){nextIndex=prevIndex;}}if(event.key===ARROW_LEFT){stop&&stopEvent(event);if(prevIndex%cols!==0){nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex,disabledIndices,decrement:true});if(loop&&isDifferentRow(nextIndex,cols,prevRow)){nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex+(cols-prevIndex%cols),decrement:true,disabledIndices});}}else if(loop){nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:prevIndex+(cols-prevIndex%cols),decrement:true,disabledIndices});}if(isDifferentRow(nextIndex,cols,prevRow)){nextIndex=prevIndex;}}const lastRow=floor(maxIndex/cols)===prevRow;if(isIndexOutOfBounds(elementsRef,nextIndex)){if(loop&&lastRow){nextIndex=event.key===ARROW_LEFT?maxIndex:findNonDisabledIndex(elementsRef,{startingIndex:prevIndex-prevIndex%cols-1,disabledIndices});}else{nextIndex=prevIndex;}}}return nextIndex;}/** For each cell index, gets the item index that occupies that cell */function buildCellMap(sizes,cols,dense){const cellMap=[];let startIndex=0;sizes.forEach((_ref2,index)=>{let{width,height}=_ref2;if(width>cols){if(process.env.NODE_ENV!==\"production\"){throw new Error(\"[Floating UI]: Invalid grid - item width at index \"+index+\" is greater than grid columns\");}}let itemPlaced=false;if(dense){startIndex=0;}while(!itemPlaced){const targetCells=[];for(let i=0;i<width;i++){for(let j=0;j<height;j++){targetCells.push(startIndex+i+j*cols);}}if(startIndex%cols+width<=cols&&targetCells.every(cell=>cellMap[cell]==null)){targetCells.forEach(cell=>{cellMap[cell]=index;});itemPlaced=true;}else{startIndex++;}}});// convert into a non-sparse array\nreturn[...cellMap];}/** Gets cell index of an item's corner or -1 when index is -1. */function getCellIndexOfCorner(index,sizes,cellMap,cols,corner){if(index===-1)return-1;const firstCellIndex=cellMap.indexOf(index);switch(corner){case'tl':return firstCellIndex;case'tr':return firstCellIndex+sizes[index].width-1;case'bl':return firstCellIndex+(sizes[index].height-1)*cols;case'br':return cellMap.lastIndexOf(index);}}/** Gets all cell indices that correspond to the specified indices */function getCellIndices(indices,cellMap){return cellMap.flatMap((index,cellIndex)=>indices.includes(index)?[cellIndex]:[]);}let rafId=0;function enqueueFocus(el,options){if(options===void 0){options={};}const{preventScroll=false,cancelPrevious=true,sync=false}=options;cancelPrevious&&cancelAnimationFrame(rafId);const exec=()=>el==null?void 0:el.focus({preventScroll});if(sync){exec();}else{rafId=requestAnimationFrame(exec);}}var index=typeof document!=='undefined'?useLayoutEffect:useEffect;function sortByDocumentPosition(a,b){const position=a.compareDocumentPosition(b);if(position&Node.DOCUMENT_POSITION_FOLLOWING||position&Node.DOCUMENT_POSITION_CONTAINED_BY){return-1;}if(position&Node.DOCUMENT_POSITION_PRECEDING||position&Node.DOCUMENT_POSITION_CONTAINS){return 1;}return 0;}function areMapsEqual(map1,map2){if(map1.size!==map2.size){return false;}for(const[key,value]of map1.entries()){if(value!==map2.get(key)){return false;}}return true;}const FloatingListContext=/*#__PURE__*/React.createContext({register:()=>{},unregister:()=>{},map:/*#__PURE__*/new Map(),elementsRef:{current:[]}});/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */function FloatingList(_ref){let{children,elementsRef,labelsRef}=_ref;const[map,setMap]=React.useState(()=>new Map());const register=React.useCallback(node=>{setMap(prevMap=>new Map(prevMap).set(node,null));},[]);const unregister=React.useCallback(node=>{setMap(prevMap=>{const map=new Map(prevMap);map.delete(node);return map;});},[]);index(()=>{const newMap=new Map(map);const nodes=Array.from(newMap.keys()).sort(sortByDocumentPosition);nodes.forEach((node,index)=>{newMap.set(node,index);});if(!areMapsEqual(map,newMap)){setMap(newMap);}},[map]);return/*#__PURE__*/React.createElement(FloatingListContext.Provider,{value:React.useMemo(()=>({register,unregister,map,elementsRef,labelsRef}),[register,unregister,map,elementsRef,labelsRef])},children);}/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */function useListItem(_temp){let{label}=_temp===void 0?{}:_temp;const[index$1,setIndex]=React.useState(null);const componentRef=React.useRef(null);const{register,unregister,map,elementsRef,labelsRef}=React.useContext(FloatingListContext);const ref=React.useCallback(node=>{componentRef.current=node;if(index$1!==null){elementsRef.current[index$1]=node;if(labelsRef){var _node$textContent;const isLabelDefined=label!==undefined;labelsRef.current[index$1]=isLabelDefined?label:(_node$textContent=node==null?void 0:node.textContent)!=null?_node$textContent:null;}}},[index$1,elementsRef,labelsRef,label]);index(()=>{const node=componentRef.current;if(node){register(node);return()=>{unregister(node);};}},[register,unregister]);index(()=>{const index=componentRef.current?map.get(componentRef.current):null;if(index!=null){setIndex(index);}},[map]);return React.useMemo(()=>({ref,index:index$1==null?-1:index$1}),[index$1,ref]);}function renderJsx(render,computedProps){if(typeof render==='function'){return render(computedProps);}if(render){return/*#__PURE__*/React.cloneElement(render,computedProps);}return/*#__PURE__*/React.createElement(\"div\",computedProps);}const CompositeContext=/*#__PURE__*/React.createContext({activeIndex:0,onNavigate:()=>{}});const horizontalKeys=[ARROW_LEFT,ARROW_RIGHT];const verticalKeys=[ARROW_UP,ARROW_DOWN];const allKeys=[...horizontalKeys,...verticalKeys];/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that aren’t part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */const Composite=/*#__PURE__*/React.forwardRef(function Composite(_ref,forwardedRef){let{render,orientation='both',loop=true,cols=1,disabledIndices=[],activeIndex:externalActiveIndex,onNavigate:externalSetActiveIndex,itemSizes,dense=false,...props}=_ref;const[internalActiveIndex,internalSetActiveIndex]=React.useState(0);const activeIndex=externalActiveIndex!=null?externalActiveIndex:internalActiveIndex;const onNavigate=useEffectEvent(externalSetActiveIndex!=null?externalSetActiveIndex:internalSetActiveIndex);const elementsRef=React.useRef([]);const renderElementProps=render&&typeof render!=='function'?render.props:{};const contextValue=React.useMemo(()=>({activeIndex,onNavigate}),[activeIndex,onNavigate]);const isGrid=cols>1;function handleKeyDown(event){if(!allKeys.includes(event.key))return;let nextIndex=activeIndex;if(isGrid){const sizes=itemSizes||Array.from({length:elementsRef.current.length},()=>({width:1,height:1}));// To calculate movements on the grid, we use hypothetical cell indices\n// as if every item was 1x1, then convert back to real indices.\nconst cellMap=buildCellMap(sizes,cols,dense);const minGridIndex=cellMap.findIndex(index=>index!=null&&!disabledIndices.includes(index));// last enabled index\nconst maxGridIndex=cellMap.reduce((foundIndex,index,cellIndex)=>index!=null&&!(disabledIndices!=null&&disabledIndices.includes(index))?cellIndex:foundIndex,-1);nextIndex=cellMap[getGridNavigatedIndex({current:cellMap.map(itemIndex=>itemIndex?elementsRef.current[itemIndex]:null)},{event,orientation,loop,cols,// treat undefined (empty grid spaces) as disabled indices so we\n// don't end up in them\ndisabledIndices:getCellIndices([...disabledIndices,undefined],cellMap),minIndex:minGridIndex,maxIndex:maxGridIndex,prevIndex:getCellIndexOfCorner(activeIndex,sizes,cellMap,cols,// use a corner matching the edge closest to the direction we're\n// moving in so we don't end up in the same item. Prefer\n// top/left over bottom/right.\nevent.key===ARROW_DOWN?'bl':event.key===ARROW_RIGHT?'tr':'tl')})];// navigated cell will never be nullish\n}const minIndex=getMinIndex(elementsRef,disabledIndices);const maxIndex=getMaxIndex(elementsRef,disabledIndices);const toEndKeys={horizontal:[ARROW_RIGHT],vertical:[ARROW_DOWN],both:[ARROW_RIGHT,ARROW_DOWN]}[orientation];const toStartKeys={horizontal:[ARROW_LEFT],vertical:[ARROW_UP],both:[ARROW_LEFT,ARROW_UP]}[orientation];const preventedKeys=isGrid?allKeys:{horizontal:horizontalKeys,vertical:verticalKeys,both:allKeys}[orientation];if(nextIndex===activeIndex&&[...toEndKeys,...toStartKeys].includes(event.key)){if(loop&&nextIndex===maxIndex&&toEndKeys.includes(event.key)){nextIndex=minIndex;}else if(loop&&nextIndex===minIndex&&toStartKeys.includes(event.key)){nextIndex=maxIndex;}else{nextIndex=findNonDisabledIndex(elementsRef,{startingIndex:nextIndex,decrement:toStartKeys.includes(event.key),disabledIndices});}}if(nextIndex!==activeIndex&&!isIndexOutOfBounds(elementsRef,nextIndex)){event.stopPropagation();if(preventedKeys.includes(event.key)){event.preventDefault();}onNavigate(nextIndex);// Wait for FocusManager `returnFocus` to execute.\nqueueMicrotask(()=>{enqueueFocus(elementsRef.current[nextIndex]);});}}const computedProps={...props,...renderElementProps,ref:forwardedRef,'aria-orientation':orientation==='both'?undefined:orientation,onKeyDown(e){props.onKeyDown==null||props.onKeyDown(e);renderElementProps.onKeyDown==null||renderElementProps.onKeyDown(e);handleKeyDown(e);}};return/*#__PURE__*/React.createElement(CompositeContext.Provider,{value:contextValue},/*#__PURE__*/React.createElement(FloatingList,{elementsRef:elementsRef},renderJsx(render,computedProps)));});/**\n * @see https://floating-ui.com/docs/Composite\n */const CompositeItem=/*#__PURE__*/React.forwardRef(function CompositeItem(_ref2,forwardedRef){let{render,...props}=_ref2;const renderElementProps=render&&typeof render!=='function'?render.props:{};const{activeIndex,onNavigate}=React.useContext(CompositeContext);const{ref,index}=useListItem();const mergedRef=useMergeRefs([ref,forwardedRef,renderElementProps.ref]);const isActive=activeIndex===index;const computedProps={...props,...renderElementProps,ref:mergedRef,tabIndex:isActive?0:-1,'data-active':isActive?'':undefined,onFocus(e){props.onFocus==null||props.onFocus(e);renderElementProps.onFocus==null||renderElementProps.onFocus(e);onNavigate(index);}};return renderJsx(render,computedProps);});function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}let serverHandoffComplete=false;let count=0;const genId=()=>\"floating-ui-\"+count++;function useFloatingId(){const[id,setId]=React.useState(()=>serverHandoffComplete?genId():undefined);// biome-ignore lint/correctness/useExhaustiveDependencies: intentional\nindex(()=>{if(id==null){setId(genId());}},[]);React.useEffect(()=>{if(!serverHandoffComplete){serverHandoffComplete=true;}},[]);return id;}// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId=React[/*#__PURE__*/'useId'.toString()];/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */const useId=useReactId||useFloatingId;/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */const FloatingArrow=/*#__PURE__*/React.forwardRef(function FloatingArrow(_ref,ref){let{context:{placement,elements:{floating},middlewareData:{arrow}},width=14,height=7,tipRadius=0,strokeWidth=0,staticOffset,stroke,d,style:{transform,...restStyle}={},...rest}=_ref;if(process.env.NODE_ENV!==\"production\"){if(!ref){console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`','component.');}}const clipPathId=useId();if(!floating){return null;}// Strokes must be double the border width, this ensures the stroke's width\n// works as you'd expect.\nstrokeWidth*=2;const halfStrokeWidth=strokeWidth/2;const svgX=width/2*(tipRadius/-8+1);const svgY=height/2*tipRadius/4;const[side,alignment]=placement.split('-');const isRTL=platform.isRTL(floating);const isCustomShape=!!d;const isVerticalSide=side==='top'||side==='bottom';const yOffsetProp=staticOffset&&alignment==='end'?'bottom':'top';let xOffsetProp=staticOffset&&alignment==='end'?'right':'left';if(staticOffset&&isRTL){xOffsetProp=alignment==='end'?'left':'right';}const arrowX=(arrow==null?void 0:arrow.x)!=null?staticOffset||arrow.x:'';const arrowY=(arrow==null?void 0:arrow.y)!=null?staticOffset||arrow.y:'';const dValue=d||// biome-ignore lint/style/useTemplate: readability\n'M0,0'+(\" H\"+width)+(\" L\"+(width-svgX)+\",\"+(height-svgY))+(\" Q\"+width/2+\",\"+height+\" \"+svgX+\",\"+(height-svgY))+' Z';const rotation={top:isCustomShape?'rotate(180deg)':'',left:isCustomShape?'rotate(90deg)':'rotate(-90deg)',bottom:isCustomShape?'':'rotate(180deg)',right:isCustomShape?'rotate(-90deg)':'rotate(90deg)'}[side];return/*#__PURE__*/React.createElement(\"svg\",_extends({},rest,{\"aria-hidden\":true,ref:ref,width:isCustomShape?width:width+strokeWidth,height:width,viewBox:\"0 0 \"+width+\" \"+(height>width?height:width),style:{position:'absolute',pointerEvents:'none',[xOffsetProp]:arrowX,[yOffsetProp]:arrowY,[side]:isVerticalSide||isCustomShape?'100%':\"calc(100% - \"+strokeWidth/2+\"px)\",transform:\"\"+rotation+(transform!=null?transform:''),...restStyle}}),strokeWidth>0&&/*#__PURE__*/React.createElement(\"path\",{clipPath:\"url(#\"+clipPathId+\")\",fill:\"none\",stroke:stroke// Account for the stroke on the fill path rendered below.\n,strokeWidth:strokeWidth+(d?0:1),d:dValue}),/*#__PURE__*/React.createElement(\"path\",{stroke:strokeWidth&&!d?rest.fill:'none',d:dValue}),/*#__PURE__*/React.createElement(\"clipPath\",{id:clipPathId},/*#__PURE__*/React.createElement(\"rect\",{x:-halfStrokeWidth,y:halfStrokeWidth*(isCustomShape?-1:1),width:width+strokeWidth,height:width})));});function createPubSub(){const map=new Map();return{emit(event,data){var _map$get;(_map$get=map.get(event))==null||_map$get.forEach(handler=>handler(data));},on(event,listener){map.set(event,[...(map.get(event)||[]),listener]);},off(event,listener){var _map$get2;map.set(event,((_map$get2=map.get(event))==null?void 0:_map$get2.filter(l=>l!==listener))||[]);}};}const FloatingNodeContext=/*#__PURE__*/React.createContext(null);const FloatingTreeContext=/*#__PURE__*/React.createContext(null);/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */const useFloatingParentNodeId=()=>{var _React$useContext;return((_React$useContext=React.useContext(FloatingNodeContext))==null?void 0:_React$useContext.id)||null;};/**\n * Returns the nearest floating tree context, if available.\n */const useFloatingTree=()=>React.useContext(FloatingTreeContext);/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */function useFloatingNodeId(customParentId){const id=useId();const tree=useFloatingTree();const reactParentId=useFloatingParentNodeId();const parentId=customParentId||reactParentId;index(()=>{const node={id,parentId};tree==null||tree.addNode(node);return()=>{tree==null||tree.removeNode(node);};},[tree,id,parentId]);return id;}/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */function FloatingNode(_ref){let{children,id}=_ref;const parentId=useFloatingParentNodeId();return/*#__PURE__*/React.createElement(FloatingNodeContext.Provider,{value:React.useMemo(()=>({id,parentId}),[id,parentId])},children);}/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */function FloatingTree(_ref2){let{children}=_ref2;const nodesRef=React.useRef([]);const addNode=React.useCallback(node=>{nodesRef.current=[...nodesRef.current,node];},[]);const removeNode=React.useCallback(node=>{nodesRef.current=nodesRef.current.filter(n=>n!==node);},[]);const events=React.useState(()=>createPubSub())[0];return/*#__PURE__*/React.createElement(FloatingTreeContext.Provider,{value:React.useMemo(()=>({nodesRef,addNode,removeNode,events}),[addNode,removeNode,events])},children);}function createAttribute(name){return\"data-floating-ui-\"+name;}function useLatestRef(value){const ref=useRef(value);index(()=>{ref.current=value;});return ref;}const safePolygonIdentifier=/*#__PURE__*/createAttribute('safe-polygon');function getDelay(value,prop,pointerType){if(pointerType&&!isMouseLikePointerType(pointerType)){return 0;}if(typeof value==='number'){return value;}return value==null?void 0:value[prop];}/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */function useHover(context,props){if(props===void 0){props={};}const{open,onOpenChange,dataRef,events,elements:{domReference,floating},refs}=context;const{enabled=true,delay=0,handleClose=null,mouseOnly=false,restMs=0,move=true}=props;const tree=useFloatingTree();const parentId=useFloatingParentNodeId();const handleCloseRef=useLatestRef(handleClose);const delayRef=useLatestRef(delay);const pointerTypeRef=React.useRef();const timeoutRef=React.useRef();const handlerRef=React.useRef();const restTimeoutRef=React.useRef();const blockMouseMoveRef=React.useRef(true);const performedPointerEventsMutationRef=React.useRef(false);const unbindMouseMoveRef=React.useRef(()=>{});const isHoverOpen=React.useCallback(()=>{var _dataRef$current$open;const type=(_dataRef$current$open=dataRef.current.openEvent)==null?void 0:_dataRef$current$open.type;return(type==null?void 0:type.includes('mouse'))&&type!=='mousedown';},[dataRef]);// When closing before opening, clear the delay timeouts to cancel it\n// from showing.\nReact.useEffect(()=>{if(!enabled){return;}function onOpenChange(_ref){let{open}=_ref;if(!open){clearTimeout(timeoutRef.current);clearTimeout(restTimeoutRef.current);blockMouseMoveRef.current=true;}}events.on('openchange',onOpenChange);return()=>{events.off('openchange',onOpenChange);};},[enabled,events]);React.useEffect(()=>{if(!enabled||!handleCloseRef.current||!open){return;}function onLeave(event){if(isHoverOpen()){onOpenChange(false,event,'hover');}}const html=getDocument(floating).documentElement;html.addEventListener('mouseleave',onLeave);return()=>{html.removeEventListener('mouseleave',onLeave);};},[floating,open,onOpenChange,enabled,handleCloseRef,isHoverOpen]);const closeWithDelay=React.useCallback(function(event,runElseBranch,reason){if(runElseBranch===void 0){runElseBranch=true;}if(reason===void 0){reason='hover';}const closeDelay=getDelay(delayRef.current,'close',pointerTypeRef.current);if(closeDelay&&!handlerRef.current){clearTimeout(timeoutRef.current);timeoutRef.current=setTimeout(()=>onOpenChange(false,event,reason),closeDelay);}else if(runElseBranch){clearTimeout(timeoutRef.current);onOpenChange(false,event,reason);}},[delayRef,onOpenChange]);const cleanupMouseMoveHandler=React.useCallback(()=>{unbindMouseMoveRef.current();handlerRef.current=undefined;},[]);const clearPointerEvents=React.useCallback(()=>{if(performedPointerEventsMutationRef.current){const body=getDocument(refs.floating.current).body;body.style.pointerEvents='';body.removeAttribute(safePolygonIdentifier);performedPointerEventsMutationRef.current=false;}},[refs]);// Registering the mouse events on the reference directly to bypass React's\n// delegation system. If the cursor was on a disabled element and then entered\n// the reference (no gap), `mouseenter` doesn't fire in the delegation system.\nReact.useEffect(()=>{if(!enabled){return;}function isClickLikeOpenEvent(){return dataRef.current.openEvent?['click','mousedown'].includes(dataRef.current.openEvent.type):false;}function onMouseEnter(event){clearTimeout(timeoutRef.current);blockMouseMoveRef.current=false;if(mouseOnly&&!isMouseLikePointerType(pointerTypeRef.current)||restMs>0&&getDelay(delayRef.current,'open')===0){return;}const openDelay=getDelay(delayRef.current,'open',pointerTypeRef.current);if(openDelay){timeoutRef.current=setTimeout(()=>{onOpenChange(true,event,'hover');},openDelay);}else{onOpenChange(true,event,'hover');}}function onMouseLeave(event){if(isClickLikeOpenEvent()){return;}unbindMouseMoveRef.current();const doc=getDocument(floating);clearTimeout(restTimeoutRef.current);if(handleCloseRef.current){// Prevent clearing `onScrollMouseLeave` timeout.\nif(!open){clearTimeout(timeoutRef.current);}handlerRef.current=handleCloseRef.current({...context,tree,x:event.clientX,y:event.clientY,onClose(){clearPointerEvents();cleanupMouseMoveHandler();closeWithDelay(event,true,'safe-polygon');}});const handler=handlerRef.current;doc.addEventListener('mousemove',handler);unbindMouseMoveRef.current=()=>{doc.removeEventListener('mousemove',handler);};return;}// Allow interactivity without `safePolygon` on touch devices. With a\n// pointer, a short close delay is an alternative, so it should work\n// consistently.\nconst shouldClose=pointerTypeRef.current==='touch'?!contains(floating,event.relatedTarget):true;if(shouldClose){closeWithDelay(event);}}// Ensure the floating element closes after scrolling even if the pointer\n// did not move.\n// https://github.com/floating-ui/floating-ui/discussions/1692\nfunction onScrollMouseLeave(event){if(isClickLikeOpenEvent()){return;}handleCloseRef.current==null||handleCloseRef.current({...context,tree,x:event.clientX,y:event.clientY,onClose(){clearPointerEvents();cleanupMouseMoveHandler();closeWithDelay(event);}})(event);}if(isElement(domReference)){const ref=domReference;open&&ref.addEventListener('mouseleave',onScrollMouseLeave);floating==null||floating.addEventListener('mouseleave',onScrollMouseLeave);move&&ref.addEventListener('mousemove',onMouseEnter,{once:true});ref.addEventListener('mouseenter',onMouseEnter);ref.addEventListener('mouseleave',onMouseLeave);return()=>{open&&ref.removeEventListener('mouseleave',onScrollMouseLeave);floating==null||floating.removeEventListener('mouseleave',onScrollMouseLeave);move&&ref.removeEventListener('mousemove',onMouseEnter);ref.removeEventListener('mouseenter',onMouseEnter);ref.removeEventListener('mouseleave',onMouseLeave);};}},[domReference,floating,enabled,context,mouseOnly,restMs,move,closeWithDelay,cleanupMouseMoveHandler,clearPointerEvents,onOpenChange,open,tree,delayRef,handleCloseRef,dataRef]);// Block pointer-events of every element other than the reference and floating\n// while the floating element is open and has a `handleClose` handler. Also\n// handles nested floating elements.\n// https://github.com/floating-ui/floating-ui/issues/1722\nindex(()=>{var _handleCloseRef$curre;if(!enabled){return;}if(open&&(_handleCloseRef$curre=handleCloseRef.current)!=null&&_handleCloseRef$curre.__options.blockPointerEvents&&isHoverOpen()){const body=getDocument(floating).body;body.setAttribute(safePolygonIdentifier,'');body.style.pointerEvents='none';performedPointerEventsMutationRef.current=true;if(isElement(domReference)&&floating){var _tree$nodesRef$curren;const ref=domReference;const parentFloating=tree==null||(_tree$nodesRef$curren=tree.nodesRef.current.find(node=>node.id===parentId))==null||(_tree$nodesRef$curren=_tree$nodesRef$curren.context)==null?void 0:_tree$nodesRef$curren.elements.floating;if(parentFloating){parentFloating.style.pointerEvents='';}ref.style.pointerEvents='auto';floating.style.pointerEvents='auto';return()=>{ref.style.pointerEvents='';floating.style.pointerEvents='';};}}},[enabled,open,parentId,floating,domReference,tree,handleCloseRef,isHoverOpen]);index(()=>{if(!open){pointerTypeRef.current=undefined;cleanupMouseMoveHandler();clearPointerEvents();}},[open,cleanupMouseMoveHandler,clearPointerEvents]);// biome-ignore lint/correctness/useExhaustiveDependencies: intentional\nReact.useEffect(()=>{return()=>{cleanupMouseMoveHandler();clearTimeout(timeoutRef.current);clearTimeout(restTimeoutRef.current);clearPointerEvents();};},[enabled,domReference,cleanupMouseMoveHandler,clearPointerEvents]);return React.useMemo(()=>{if(!enabled){return{};}function setPointerRef(event){pointerTypeRef.current=event.pointerType;}return{reference:{onPointerDown:setPointerRef,onPointerEnter:setPointerRef,onMouseMove(event){if(open||restMs===0){return;}clearTimeout(restTimeoutRef.current);restTimeoutRef.current=setTimeout(()=>{if(!blockMouseMoveRef.current){onOpenChange(true,event.nativeEvent,'hover');}},restMs);}},floating:{onMouseEnter(){clearTimeout(timeoutRef.current);},onMouseLeave(event){closeWithDelay(event.nativeEvent,false);}}};},[enabled,restMs,open,onOpenChange,closeWithDelay]);}const FloatingDelayGroupContext=/*#__PURE__*/React.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:false});const useDelayGroupContext=()=>React.useContext(FloatingDelayGroupContext);/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */const FloatingDelayGroup=_ref=>{let{children,delay,timeoutMs=0}=_ref;const[state,setState]=React.useReducer((prev,next)=>({...prev,...next}),{delay,timeoutMs,initialDelay:delay,currentId:null,isInstantPhase:false});const initialCurrentIdRef=React.useRef(null);const setCurrentId=React.useCallback(currentId=>{setState({currentId});},[]);index(()=>{if(state.currentId){if(initialCurrentIdRef.current===null){initialCurrentIdRef.current=state.currentId;}else{setState({isInstantPhase:true});}}else{setState({isInstantPhase:false});initialCurrentIdRef.current=null;}},[state.currentId]);return/*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider,{value:React.useMemo(()=>({...state,setState,setCurrentId}),[state,setCurrentId])},children);};/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */const useDelayGroup=(_ref2,_ref3)=>{let{open,onOpenChange}=_ref2;let{id}=_ref3;const{currentId,setCurrentId,initialDelay,setState,timeoutMs}=useDelayGroupContext();index(()=>{if(currentId){setState({delay:{open:1,close:getDelay(initialDelay,'close')}});if(currentId!==id){onOpenChange(false);}}},[id,onOpenChange,setState,currentId,initialDelay]);index(()=>{function unset(){onOpenChange(false);setState({delay:initialDelay,currentId:null});}if(!open&&currentId===id){if(timeoutMs){const timeout=window.setTimeout(unset,timeoutMs);return()=>{clearTimeout(timeout);};}unset();}},[open,setState,currentId,id,onOpenChange,initialDelay,timeoutMs]);index(()=>{if(open){setCurrentId(id);}},[open,setCurrentId,id]);};function getAncestors(nodes,id){var _nodes$find;let allAncestors=[];let currentParentId=(_nodes$find=nodes.find(node=>node.id===id))==null?void 0:_nodes$find.parentId;while(currentParentId){const currentNode=nodes.find(node=>node.id===currentParentId);currentParentId=currentNode==null?void 0:currentNode.parentId;if(currentNode){allAncestors=allAncestors.concat(currentNode);}}return allAncestors;}function getChildren(nodes,id){let allChildren=nodes.filter(node=>{var _node$context;return node.parentId===id&&((_node$context=node.context)==null?void 0:_node$context.open);});let currentChildren=allChildren;while(currentChildren.length){currentChildren=nodes.filter(node=>{var _currentChildren;return(_currentChildren=currentChildren)==null?void 0:_currentChildren.some(n=>{var _node$context2;return node.parentId===n.id&&((_node$context2=node.context)==null?void 0:_node$context2.open);});});allChildren=allChildren.concat(currentChildren);}return allChildren;}function getDeepestNode(nodes,id){let deepestNodeId;let maxDepth=-1;function findDeepest(nodeId,depth){if(depth>maxDepth){deepestNodeId=nodeId;maxDepth=depth;}const children=getChildren(nodes,nodeId);children.forEach(child=>{findDeepest(child.id,depth+1);});}findDeepest(id,0);return nodes.find(node=>node.id===deepestNodeId);}// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap=/*#__PURE__*/new WeakMap();let uncontrolledElementsSet=/*#__PURE__*/new WeakSet();let markerMap={};let lockCount=0;const supportsInert=()=>typeof HTMLElement!=='undefined'&&'inert'in HTMLElement.prototype;const unwrapHost=node=>node&&(node.host||unwrapHost(node.parentNode));const correctElements=(parent,targets)=>targets.map(target=>{if(parent.contains(target)){return target;}const correctedTarget=unwrapHost(target);if(parent.contains(correctedTarget)){return correctedTarget;}return null;}).filter(x=>x!=null);function applyAttributeToOthers(uncorrectedAvoidElements,body,ariaHidden,inert){const markerName='data-floating-ui-inert';const controlAttribute=inert?'inert':ariaHidden?'aria-hidden':null;const avoidElements=correctElements(body,uncorrectedAvoidElements);const elementsToKeep=new Set();const elementsToStop=new Set(avoidElements);const hiddenElements=[];if(!markerMap[markerName]){markerMap[markerName]=new WeakMap();}const markerCounter=markerMap[markerName];avoidElements.forEach(keep);deep(body);elementsToKeep.clear();function keep(el){if(!el||elementsToKeep.has(el)){return;}elementsToKeep.add(el);el.parentNode&&keep(el.parentNode);}function deep(parent){if(!parent||elementsToStop.has(parent)){return;}Array.prototype.forEach.call(parent.children,node=>{if(elementsToKeep.has(node)){deep(node);}else{const attr=controlAttribute?node.getAttribute(controlAttribute):null;const alreadyHidden=attr!==null&&attr!=='false';const counterValue=(counterMap.get(node)||0)+1;const markerValue=(markerCounter.get(node)||0)+1;counterMap.set(node,counterValue);markerCounter.set(node,markerValue);hiddenElements.push(node);if(counterValue===1&&alreadyHidden){uncontrolledElementsSet.add(node);}if(markerValue===1){node.setAttribute(markerName,'');}if(!alreadyHidden&&controlAttribute){node.setAttribute(controlAttribute,'true');}}});}lockCount++;return()=>{hiddenElements.forEach(element=>{const counterValue=(counterMap.get(element)||0)-1;const markerValue=(markerCounter.get(element)||0)-1;counterMap.set(element,counterValue);markerCounter.set(element,markerValue);if(!counterValue){if(!uncontrolledElementsSet.has(element)&&controlAttribute){element.removeAttribute(controlAttribute);}uncontrolledElementsSet.delete(element);}if(!markerValue){element.removeAttribute(markerName);}});lockCount--;if(!lockCount){counterMap=new WeakMap();counterMap=new WeakMap();uncontrolledElementsSet=new WeakSet();markerMap={};}};}function markOthers(avoidElements,ariaHidden,inert){if(ariaHidden===void 0){ariaHidden=false;}if(inert===void 0){inert=false;}const body=getDocument(avoidElements[0]).body;return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))),body,ariaHidden,inert);}const getTabbableOptions=()=>({getShadowRoot:true,displayCheck:// JSDOM does not support the `tabbable` library. To solve this we can\n// check if `ResizeObserver` is a real function (not polyfilled), which\n// determines if the current environment is JSDOM-like.\ntypeof ResizeObserver==='function'&&ResizeObserver.toString().includes('[native code]')?'full':'none'});function getTabbableIn(container,direction){const allTabbable=tabbable(container,getTabbableOptions());if(direction==='prev'){allTabbable.reverse();}const activeIndex=allTabbable.indexOf(activeElement(getDocument(container)));const nextTabbableElements=allTabbable.slice(activeIndex+1);return nextTabbableElements[0];}function getNextTabbable(){return getTabbableIn(document.body,'next');}function getPreviousTabbable(){return getTabbableIn(document.body,'prev');}function isOutsideEvent(event,container){const containerElement=container||event.currentTarget;const relatedTarget=event.relatedTarget;return!relatedTarget||!contains(containerElement,relatedTarget);}function disableFocusInside(container){const tabbableElements=tabbable(container,getTabbableOptions());tabbableElements.forEach(element=>{element.dataset.tabindex=element.getAttribute('tabindex')||'';element.setAttribute('tabindex','-1');});}function enableFocusInside(container){const elements=container.querySelectorAll('[data-tabindex]');elements.forEach(element=>{const tabindex=element.dataset.tabindex;// biome-ignore lint/performance/noDelete: purity\ndelete element.dataset.tabindex;if(tabindex){element.setAttribute('tabindex',tabindex);}else{element.removeAttribute('tabindex');}});}// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\nconst HIDDEN_STYLES={border:0,clip:'rect(0 0 0 0)',height:'1px',margin:'-1px',overflow:'hidden',padding:0,position:'fixed',whiteSpace:'nowrap',width:'1px',top:0,left:0};let timeoutId;function setActiveElementOnTab(event){if(event.key==='Tab'){event.target;clearTimeout(timeoutId);}}const FocusGuard=/*#__PURE__*/React.forwardRef(function FocusGuard(props,ref){const[role,setRole]=React.useState();index(()=>{if(isSafari()){// Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n// on VoiceOver does trigger the onFocus event, so we can use the focus\n// trap element. On Safari, only buttons trigger the onFocus event.\n// NB: \"group\" role in the Sandbox no longer appears to work, must be a\n// button role.\nsetRole('button');}document.addEventListener('keydown',setActiveElementOnTab);return()=>{document.removeEventListener('keydown',setActiveElementOnTab);};},[]);const restProps={ref,tabIndex:0,// Role is only for VoiceOver\nrole,'aria-hidden':role?undefined:true,[createAttribute('focus-guard')]:'',style:HIDDEN_STYLES};return/*#__PURE__*/React.createElement(\"span\",_extends({},props,restProps));});const PortalContext=/*#__PURE__*/React.createContext(null);const attr=/*#__PURE__*/createAttribute('portal');/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */function useFloatingPortalNode(_temp){let{id,root}=_temp===void 0?{}:_temp;const[portalNode,setPortalNode]=React.useState(null);const uniqueId=useId();const portalContext=usePortalContext();const portalNodeRef=React.useRef(null);index(()=>{return()=>{portalNode==null||portalNode.remove();// Allow the subsequent layout effects to create a new node on updates.\n// The portal node will still be cleaned up on unmount.\n// https://github.com/floating-ui/floating-ui/issues/2454\nqueueMicrotask(()=>{portalNodeRef.current=null;});};},[portalNode]);index(()=>{if(portalNodeRef.current)return;const existingIdRoot=id?document.getElementById(id):null;if(!existingIdRoot)return;const subRoot=document.createElement('div');subRoot.id=uniqueId;subRoot.setAttribute(attr,'');existingIdRoot.appendChild(subRoot);portalNodeRef.current=subRoot;setPortalNode(subRoot);},[id,uniqueId]);index(()=>{if(portalNodeRef.current)return;let container=root||(portalContext==null?void 0:portalContext.portalNode);if(container&&!isElement(container))container=container.current;container=container||document.body;let idWrapper=null;if(id){idWrapper=document.createElement('div');idWrapper.id=id;container.appendChild(idWrapper);}const subRoot=document.createElement('div');subRoot.id=uniqueId;subRoot.setAttribute(attr,'');container=idWrapper||container;container.appendChild(subRoot);portalNodeRef.current=subRoot;setPortalNode(subRoot);},[id,root,uniqueId,portalContext]);return portalNode;}/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */function FloatingPortal(_ref){let{children,id,root=null,preserveTabOrder=true}=_ref;const portalNode=useFloatingPortalNode({id,root});const[focusManagerState,setFocusManagerState]=React.useState(null);const beforeOutsideRef=React.useRef(null);const afterOutsideRef=React.useRef(null);const beforeInsideRef=React.useRef(null);const afterInsideRef=React.useRef(null);const shouldRenderGuards=// The FocusManager and therefore floating element are currently open/\n// rendered.\n!!focusManagerState&&// Guards are only for non-modal focus management.\n!focusManagerState.modal&&// Don't render if unmount is transitioning.\nfocusManagerState.open&&preserveTabOrder&&!!(root||portalNode);// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\nReact.useEffect(()=>{if(!portalNode||!preserveTabOrder||focusManagerState!=null&&focusManagerState.modal){return;}// Make sure elements inside the portal element are tabbable only when the\n// portal has already been focused, either by tabbing into a focus trap\n// element outside or using the mouse.\nfunction onFocus(event){if(portalNode&&isOutsideEvent(event)){const focusing=event.type==='focusin';const manageFocus=focusing?enableFocusInside:disableFocusInside;manageFocus(portalNode);}}// Listen to the event on the capture phase so they run before the focus\n// trap elements onFocus prop is called.\nportalNode.addEventListener('focusin',onFocus,true);portalNode.addEventListener('focusout',onFocus,true);return()=>{portalNode.removeEventListener('focusin',onFocus,true);portalNode.removeEventListener('focusout',onFocus,true);};},[portalNode,preserveTabOrder,focusManagerState==null?void 0:focusManagerState.modal]);return/*#__PURE__*/React.createElement(PortalContext.Provider,{value:React.useMemo(()=>({preserveTabOrder,beforeOutsideRef,afterOutsideRef,beforeInsideRef,afterInsideRef,portalNode,setFocusManagerState}),[preserveTabOrder,portalNode])},shouldRenderGuards&&portalNode&&/*#__PURE__*/React.createElement(FocusGuard,{\"data-type\":\"outside\",ref:beforeOutsideRef,onFocus:event=>{if(isOutsideEvent(event,portalNode)){var _beforeInsideRef$curr;(_beforeInsideRef$curr=beforeInsideRef.current)==null||_beforeInsideRef$curr.focus();}else{const prevTabbable=getPreviousTabbable()||(focusManagerState==null?void 0:focusManagerState.refs.domReference.current);prevTabbable==null||prevTabbable.focus();}}}),shouldRenderGuards&&portalNode&&/*#__PURE__*/React.createElement(\"span\",{\"aria-owns\":portalNode.id,style:HIDDEN_STYLES}),portalNode&&/*#__PURE__*/createPortal(children,portalNode),shouldRenderGuards&&portalNode&&/*#__PURE__*/React.createElement(FocusGuard,{\"data-type\":\"outside\",ref:afterOutsideRef,onFocus:event=>{if(isOutsideEvent(event,portalNode)){var _afterInsideRef$curre;(_afterInsideRef$curre=afterInsideRef.current)==null||_afterInsideRef$curre.focus();}else{const nextTabbable=getNextTabbable()||(focusManagerState==null?void 0:focusManagerState.refs.domReference.current);nextTabbable==null||nextTabbable.focus();(focusManagerState==null?void 0:focusManagerState.closeOnFocusOut)&&(focusManagerState==null?void 0:focusManagerState.onOpenChange(false,event.nativeEvent));}}}));}const usePortalContext=()=>React.useContext(PortalContext);const LIST_LIMIT=20;let previouslyFocusedElements=[];function addPreviouslyFocusedElement(element){previouslyFocusedElements=previouslyFocusedElements.filter(el=>el.isConnected);if(element&&getNodeName(element)!=='body'){previouslyFocusedElements.push(element);if(previouslyFocusedElements.length>LIST_LIMIT){previouslyFocusedElements=previouslyFocusedElements.slice(-LIST_LIMIT);}}}function getPreviouslyFocusedElement(){return previouslyFocusedElements.slice().reverse().find(el=>el.isConnected);}const VisuallyHiddenDismiss=/*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props,ref){return/*#__PURE__*/React.createElement(\"button\",_extends({},props,{type:\"button\",ref:ref,tabIndex:-1,style:HIDDEN_STYLES}));});/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */function FloatingFocusManager(props){const{context,children,disabled=false,order=['content'],guards:_guards=true,initialFocus=0,returnFocus=true,modal=true,visuallyHiddenDismiss=false,closeOnFocusOut=true}=props;const{open,refs,nodeId,onOpenChange,events,dataRef,elements:{domReference,floating}}=context;const ignoreInitialFocus=typeof initialFocus==='number'&&initialFocus<0;// If the reference is a combobox and is typeable (e.g. input/textarea),\n// there are different focus semantics. The guards should not be rendered, but\n// aria-hidden should be applied to all nodes still. Further, the visually\n// hidden dismiss button should only appear at the end of the list, not the\n// start.\nconst isUntrappedTypeableCombobox=isTypeableCombobox(domReference)&&ignoreInitialFocus;// Force the guards to be rendered if the `inert` attribute is not supported.\nconst guards=supportsInert()?_guards:true;const orderRef=useLatestRef(order);const initialFocusRef=useLatestRef(initialFocus);const returnFocusRef=useLatestRef(returnFocus);const tree=useFloatingTree();const portalContext=usePortalContext();const startDismissButtonRef=React.useRef(null);const endDismissButtonRef=React.useRef(null);const preventReturnFocusRef=React.useRef(false);const isPointerDownRef=React.useRef(false);const isInsidePortal=portalContext!=null;const getTabbableContent=React.useCallback(function(container){if(container===void 0){container=floating;}return container?tabbable(container,getTabbableOptions()):[];},[floating]);const getTabbableElements=React.useCallback(container=>{const content=getTabbableContent(container);return orderRef.current.map(type=>{if(domReference&&type==='reference'){return domReference;}if(floating&&type==='floating'){return floating;}return content;}).filter(Boolean).flat();},[domReference,floating,orderRef,getTabbableContent]);React.useEffect(()=>{if(disabled||!modal)return;function onKeyDown(event){if(event.key==='Tab'){// The focus guards have nothing to focus, so we need to stop the event.\nif(contains(floating,activeElement(getDocument(floating)))&&getTabbableContent().length===0&&!isUntrappedTypeableCombobox){stopEvent(event);}const els=getTabbableElements();const target=getTarget(event);if(orderRef.current[0]==='reference'&&target===domReference){stopEvent(event);if(event.shiftKey){enqueueFocus(els[els.length-1]);}else{enqueueFocus(els[1]);}}if(orderRef.current[1]==='floating'&&target===floating&&event.shiftKey){stopEvent(event);enqueueFocus(els[0]);}}}const doc=getDocument(floating);doc.addEventListener('keydown',onKeyDown);return()=>{doc.removeEventListener('keydown',onKeyDown);};},[disabled,domReference,floating,modal,orderRef,isUntrappedTypeableCombobox,getTabbableContent,getTabbableElements]);React.useEffect(()=>{if(disabled||!closeOnFocusOut)return;// In Safari, buttons lose focus when pressing them.\nfunction handlePointerDown(){isPointerDownRef.current=true;setTimeout(()=>{isPointerDownRef.current=false;});}function handleFocusOutside(event){const relatedTarget=event.relatedTarget;queueMicrotask(()=>{const movedToUnrelatedNode=!(contains(domReference,relatedTarget)||contains(floating,relatedTarget)||contains(relatedTarget,floating)||contains(portalContext==null?void 0:portalContext.portalNode,relatedTarget)||relatedTarget!=null&&relatedTarget.hasAttribute(createAttribute('focus-guard'))||tree&&(getChildren(tree.nodesRef.current,nodeId).find(node=>{var _node$context,_node$context2;return contains((_node$context=node.context)==null?void 0:_node$context.elements.floating,relatedTarget)||contains((_node$context2=node.context)==null?void 0:_node$context2.elements.domReference,relatedTarget);})||getAncestors(tree.nodesRef.current,nodeId).find(node=>{var _node$context3,_node$context4;return((_node$context3=node.context)==null?void 0:_node$context3.elements.floating)===relatedTarget||((_node$context4=node.context)==null?void 0:_node$context4.elements.domReference)===relatedTarget;})));// Focus did not move inside the floating tree, and there are no tabbable\n// portal guards to handle closing.\nif(relatedTarget&&movedToUnrelatedNode&&!isPointerDownRef.current&&// Fix React 18 Strict Mode returnFocus due to double rendering.\nrelatedTarget!==getPreviouslyFocusedElement()){preventReturnFocusRef.current=true;onOpenChange(false,event);}});}if(floating&&isHTMLElement(domReference)){domReference.addEventListener('focusout',handleFocusOutside);domReference.addEventListener('pointerdown',handlePointerDown);!modal&&floating.addEventListener('focusout',handleFocusOutside);return()=>{domReference.removeEventListener('focusout',handleFocusOutside);domReference.removeEventListener('pointerdown',handlePointerDown);!modal&&floating.removeEventListener('focusout',handleFocusOutside);};}},[disabled,domReference,floating,modal,nodeId,tree,portalContext,onOpenChange,closeOnFocusOut]);React.useEffect(()=>{var _portalContext$portal;if(disabled)return;// Don't hide portals nested within the parent portal.\nconst portalNodes=Array.from((portalContext==null||(_portalContext$portal=portalContext.portalNode)==null?void 0:_portalContext$portal.querySelectorAll(\"[\"+createAttribute('portal')+\"]\"))||[]);if(floating){const insideElements=[floating,...portalNodes,startDismissButtonRef.current,endDismissButtonRef.current,orderRef.current.includes('reference')||isUntrappedTypeableCombobox?domReference:null].filter(x=>x!=null);const cleanup=modal||isUntrappedTypeableCombobox?markOthers(insideElements,guards,!guards):markOthers(insideElements);return()=>{cleanup();};}},[disabled,domReference,floating,modal,orderRef,portalContext,isUntrappedTypeableCombobox,guards]);index(()=>{if(disabled||!floating)return;const doc=getDocument(floating);const previouslyFocusedElement=activeElement(doc);// Wait for any layout effect state setters to execute to set `tabIndex`.\nqueueMicrotask(()=>{const focusableElements=getTabbableElements(floating);const initialFocusValue=initialFocusRef.current;const elToFocus=(typeof initialFocusValue==='number'?focusableElements[initialFocusValue]:initialFocusValue.current)||floating;const focusAlreadyInsideFloatingEl=contains(floating,previouslyFocusedElement);if(!ignoreInitialFocus&&!focusAlreadyInsideFloatingEl&&open){enqueueFocus(elToFocus,{preventScroll:elToFocus===floating});}});},[disabled,open,floating,ignoreInitialFocus,getTabbableElements,initialFocusRef]);index(()=>{if(disabled||!floating)return;let preventReturnFocusScroll=false;const doc=getDocument(floating);const previouslyFocusedElement=activeElement(doc);const contextData=dataRef.current;addPreviouslyFocusedElement(previouslyFocusedElement);// Dismissing via outside press should always ignore `returnFocus` to\n// prevent unwanted scrolling.\nfunction onOpenChange(_ref){let{reason,event,nested}=_ref;if(reason==='escape-key'&&refs.domReference.current){addPreviouslyFocusedElement(refs.domReference.current);}if(reason==='hover'&&event.type==='mouseleave'){preventReturnFocusRef.current=true;}if(reason!=='outside-press')return;if(nested){preventReturnFocusRef.current=false;preventReturnFocusScroll=true;}else{preventReturnFocusRef.current=!(isVirtualClick(event)||isVirtualPointerEvent(event));}}events.on('openchange',onOpenChange);return()=>{events.off('openchange',onOpenChange);const activeEl=activeElement(doc);const isFocusInsideFloatingTree=contains(floating,activeEl)||tree&&getChildren(tree.nodesRef.current,nodeId).some(node=>{var _node$context5;return contains((_node$context5=node.context)==null?void 0:_node$context5.elements.floating,activeEl);});const shouldFocusReference=isFocusInsideFloatingTree||contextData.openEvent&&['click','mousedown'].includes(contextData.openEvent.type);if(shouldFocusReference&&refs.domReference.current){addPreviouslyFocusedElement(refs.domReference.current);}const returnElement=getPreviouslyFocusedElement();if(returnFocusRef.current&&!preventReturnFocusRef.current&&isHTMLElement(returnElement)&&(// If the focus moved somewhere else after mount, avoid returning focus\n// since it likely entered a different element which should be\n// respected: https://github.com/floating-ui/floating-ui/issues/2607\nreturnElement!==activeEl&&activeEl!==doc.body?isFocusInsideFloatingTree:true)){enqueueFocus(returnElement,{// When dismissing nested floating elements, by the time the rAF has\n// executed, the menus will all have been unmounted. When they try\n// to get focused, the calls get ignored — leaving the root\n// reference focused as desired.\ncancelPrevious:false,preventScroll:preventReturnFocusScroll});}};},[disabled,floating,returnFocusRef,dataRef,refs,events,tree,nodeId]);// Synchronize the `context` & `modal` value to the FloatingPortal context.\n// It will decide whether or not it needs to render its own guards.\nindex(()=>{if(disabled||!portalContext)return;portalContext.setFocusManagerState({modal,closeOnFocusOut,open,onOpenChange,refs});return()=>{portalContext.setFocusManagerState(null);};},[disabled,portalContext,modal,open,onOpenChange,refs,closeOnFocusOut]);index(()=>{if(disabled||!floating||typeof MutationObserver!=='function'||ignoreInitialFocus){return;}const handleMutation=()=>{const tabIndex=floating.getAttribute('tabindex');if(orderRef.current.includes('floating')||activeElement(getDocument(floating))!==refs.domReference.current&&getTabbableContent().length===0){if(tabIndex!=='0'){floating.setAttribute('tabindex','0');}}else if(tabIndex!=='-1'){floating.setAttribute('tabindex','-1');}};handleMutation();const observer=new MutationObserver(handleMutation);observer.observe(floating,{childList:true,subtree:true,attributes:true});return()=>{observer.disconnect();};},[disabled,floating,refs,orderRef,getTabbableContent,ignoreInitialFocus]);function renderDismissButton(location){if(disabled||!visuallyHiddenDismiss||!modal){return null;}return/*#__PURE__*/React.createElement(VisuallyHiddenDismiss,{ref:location==='start'?startDismissButtonRef:endDismissButtonRef,onClick:event=>onOpenChange(false,event.nativeEvent)},typeof visuallyHiddenDismiss==='string'?visuallyHiddenDismiss:'Dismiss');}const shouldRenderGuards=!disabled&&guards&&(isInsidePortal||modal);return/*#__PURE__*/React.createElement(React.Fragment,null,shouldRenderGuards&&/*#__PURE__*/React.createElement(FocusGuard,{\"data-type\":\"inside\",ref:portalContext==null?void 0:portalContext.beforeInsideRef,onFocus:event=>{if(modal){const els=getTabbableElements();enqueueFocus(order[0]==='reference'?els[0]:els[els.length-1]);}else if(portalContext!=null&&portalContext.preserveTabOrder&&portalContext.portalNode){preventReturnFocusRef.current=false;if(isOutsideEvent(event,portalContext.portalNode)){const nextTabbable=getNextTabbable()||domReference;nextTabbable==null||nextTabbable.focus();}else{var _portalContext$before;(_portalContext$before=portalContext.beforeOutsideRef.current)==null||_portalContext$before.focus();}}}}),!isUntrappedTypeableCombobox&&renderDismissButton('start'),children,renderDismissButton('end'),shouldRenderGuards&&/*#__PURE__*/React.createElement(FocusGuard,{\"data-type\":\"inside\",ref:portalContext==null?void 0:portalContext.afterInsideRef,onFocus:event=>{if(modal){enqueueFocus(getTabbableElements()[0]);}else if(portalContext!=null&&portalContext.preserveTabOrder&&portalContext.portalNode){if(closeOnFocusOut){preventReturnFocusRef.current=true;}if(isOutsideEvent(event,portalContext.portalNode)){const prevTabbable=getPreviousTabbable()||domReference;prevTabbable==null||prevTabbable.focus();}else{var _portalContext$afterO;(_portalContext$afterO=portalContext.afterOutsideRef.current)==null||_portalContext$afterO.focus();}}}}));}const activeLocks=/*#__PURE__*/new Set();/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */const FloatingOverlay=/*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref,ref){let{lockScroll=false,...rest}=_ref;const lockId=useId();index(()=>{if(!lockScroll)return;activeLocks.add(lockId);const isIOS=/iP(hone|ad|od)|iOS/.test(getPlatform());const bodyStyle=document.body.style;// RTL <body> scrollbar\nconst scrollbarX=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft;const paddingProp=scrollbarX?'paddingLeft':'paddingRight';const scrollbarWidth=window.innerWidth-document.documentElement.clientWidth;const scrollX=bodyStyle.left?parseFloat(bodyStyle.left):window.pageXOffset;const scrollY=bodyStyle.top?parseFloat(bodyStyle.top):window.pageYOffset;bodyStyle.overflow='hidden';if(scrollbarWidth){bodyStyle[paddingProp]=scrollbarWidth+\"px\";}// Only iOS doesn't respect `overflow: hidden` on document.body, and this\n// technique has fewer side effects.\nif(isIOS){var _window$visualViewpor,_window$visualViewpor2;// iOS 12 does not support `visualViewport`.\nconst offsetLeft=((_window$visualViewpor=window.visualViewport)==null?void 0:_window$visualViewpor.offsetLeft)||0;const offsetTop=((_window$visualViewpor2=window.visualViewport)==null?void 0:_window$visualViewpor2.offsetTop)||0;Object.assign(bodyStyle,{position:'fixed',top:-(scrollY-Math.floor(offsetTop))+\"px\",left:-(scrollX-Math.floor(offsetLeft))+\"px\",right:'0'});}return()=>{activeLocks.delete(lockId);if(activeLocks.size===0){Object.assign(bodyStyle,{overflow:'',[paddingProp]:''});if(isIOS){Object.assign(bodyStyle,{position:'',top:'',left:'',right:''});window.scrollTo(scrollX,scrollY);}}};},[lockId,lockScroll]);return/*#__PURE__*/React.createElement(\"div\",_extends({ref:ref},rest,{style:{position:'fixed',overflow:'auto',top:0,right:0,bottom:0,left:0,...rest.style}}));});function isButtonTarget(event){return isHTMLElement(event.target)&&event.target.tagName==='BUTTON';}function isSpaceIgnored(element){return isTypeableElement(element);}/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */function useClick(context,props){if(props===void 0){props={};}const{open,onOpenChange,dataRef,elements:{domReference}}=context;const{enabled=true,event:eventOption='click',toggle=true,ignoreMouse=false,keyboardHandlers=true}=props;const pointerTypeRef=React.useRef();const didKeyDownRef=React.useRef(false);return React.useMemo(()=>{if(!enabled)return{};return{reference:{onPointerDown(event){pointerTypeRef.current=event.pointerType;},onMouseDown(event){// Ignore all buttons except for the \"main\" button.\n// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\nif(event.button!==0){return;}if(isMouseLikePointerType(pointerTypeRef.current,true)&&ignoreMouse){return;}if(eventOption==='click'){return;}if(open&&toggle&&(dataRef.current.openEvent?dataRef.current.openEvent.type==='mousedown':true)){onOpenChange(false,event.nativeEvent,'click');}else{// Prevent stealing focus from the floating element\nevent.preventDefault();onOpenChange(true,event.nativeEvent,'click');}},onClick(event){if(eventOption==='mousedown'&&pointerTypeRef.current){pointerTypeRef.current=undefined;return;}if(isMouseLikePointerType(pointerTypeRef.current,true)&&ignoreMouse){return;}if(open&&toggle&&(dataRef.current.openEvent?dataRef.current.openEvent.type==='click':true)){onOpenChange(false,event.nativeEvent,'click');}else{onOpenChange(true,event.nativeEvent,'click');}},onKeyDown(event){pointerTypeRef.current=undefined;if(event.defaultPrevented||!keyboardHandlers||isButtonTarget(event)){return;}if(event.key===' '&&!isSpaceIgnored(domReference)){// Prevent scrolling\nevent.preventDefault();didKeyDownRef.current=true;}if(event.key==='Enter'){if(open&&toggle){onOpenChange(false,event.nativeEvent,'click');}else{onOpenChange(true,event.nativeEvent,'click');}}},onKeyUp(event){if(event.defaultPrevented||!keyboardHandlers||isButtonTarget(event)||isSpaceIgnored(domReference)){return;}if(event.key===' '&&didKeyDownRef.current){didKeyDownRef.current=false;if(open&&toggle){onOpenChange(false,event.nativeEvent,'click');}else{onOpenChange(true,event.nativeEvent,'click');}}}}};},[enabled,dataRef,eventOption,ignoreMouse,keyboardHandlers,domReference,toggle,open,onOpenChange]);}function createVirtualElement(domRef,data){let offsetX=null;let offsetY=null;let isAutoUpdateEvent=false;return{contextElement:domRef.current||undefined,getBoundingClientRect(){var _domRef$current,_data$dataRef$current;const domRect=((_domRef$current=domRef.current)==null?void 0:_domRef$current.getBoundingClientRect())||{width:0,height:0,x:0,y:0};const isXAxis=data.axis==='x'||data.axis==='both';const isYAxis=data.axis==='y'||data.axis==='both';const canTrackCursorOnAutoUpdate=['mouseenter','mousemove'].includes(((_data$dataRef$current=data.dataRef.current.openEvent)==null?void 0:_data$dataRef$current.type)||'')&&data.pointerType!=='touch';let width=domRect.width;let height=domRect.height;let x=domRect.x;let y=domRect.y;if(offsetX==null&&data.x&&isXAxis){offsetX=domRect.x-data.x;}if(offsetY==null&&data.y&&isYAxis){offsetY=domRect.y-data.y;}x-=offsetX||0;y-=offsetY||0;width=0;height=0;if(!isAutoUpdateEvent||canTrackCursorOnAutoUpdate){width=data.axis==='y'?domRect.width:0;height=data.axis==='x'?domRect.height:0;x=isXAxis&&data.x!=null?data.x:x;y=isYAxis&&data.y!=null?data.y:y;}else if(isAutoUpdateEvent&&!canTrackCursorOnAutoUpdate){height=data.axis==='x'?domRect.height:height;width=data.axis==='y'?domRect.width:width;}isAutoUpdateEvent=true;return{width,height,x,y,top:y,right:x+width,bottom:y+height,left:x};}};}function isMouseBasedEvent(event){return event!=null&&event.clientX!=null;}/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */function useClientPoint(context,props){if(props===void 0){props={};}const{open,refs,dataRef,elements:{floating}}=context;const{enabled=true,axis='both',x=null,y=null}=props;const initialRef=React.useRef(false);const cleanupListenerRef=React.useRef(null);const[pointerType,setPointerType]=React.useState();const[reactive,setReactive]=React.useState([]);const setReference=useEffectEvent((x,y)=>{if(initialRef.current)return;// Prevent setting if the open event was not a mouse-like one\n// (e.g. focus to open, then hover over the reference element).\n// Only apply if the event exists.\nif(dataRef.current.openEvent&&!isMouseBasedEvent(dataRef.current.openEvent)){return;}refs.setPositionReference(createVirtualElement(refs.domReference,{x,y,axis,dataRef,pointerType}));});const handleReferenceEnterOrMove=useEffectEvent(event=>{if(x!=null||y!=null)return;if(!open){setReference(event.clientX,event.clientY);}else if(!cleanupListenerRef.current){// If there's no cleanup, there's no listener, but we want to ensure\n// we add the listener if the cursor landed on the floating element and\n// then back on the reference (i.e. it's interactive).\nsetReactive([]);}});// If the pointer is a mouse-like pointer, we want to continue following the\n// mouse even if the floating element is transitioning out. On touch\n// devices, this is undesirable because the floating element will move to\n// the dismissal touch point.\nconst openCheck=isMouseLikePointerType(pointerType)?floating:open;const addListener=React.useCallback(()=>{// Explicitly specified `x`/`y` coordinates shouldn't add a listener.\nif(!openCheck||!enabled||x!=null||y!=null)return;const win=getWindow(refs.floating.current);function handleMouseMove(event){const target=getTarget(event);if(!contains(refs.floating.current,target)){setReference(event.clientX,event.clientY);}else{win.removeEventListener('mousemove',handleMouseMove);cleanupListenerRef.current=null;}}if(!dataRef.current.openEvent||isMouseBasedEvent(dataRef.current.openEvent)){win.addEventListener('mousemove',handleMouseMove);const cleanup=()=>{win.removeEventListener('mousemove',handleMouseMove);cleanupListenerRef.current=null;};cleanupListenerRef.current=cleanup;return cleanup;}refs.setPositionReference(refs.domReference.current);},[dataRef,enabled,openCheck,refs,setReference,x,y]);// biome-ignore lint/correctness/useExhaustiveDependencies: intentionally specifying `reactive`\nReact.useEffect(()=>{return addListener();},[addListener,reactive]);React.useEffect(()=>{if(enabled&&!floating){initialRef.current=false;}},[enabled,floating]);React.useEffect(()=>{if(!enabled&&open){initialRef.current=true;}},[enabled,open]);index(()=>{if(enabled&&(x!=null||y!=null)){initialRef.current=false;setReference(x,y);}},[enabled,x,y,setReference]);return React.useMemo(()=>{if(!enabled)return{};function setPointerTypeRef(_ref){let{pointerType}=_ref;setPointerType(pointerType);}return{reference:{onPointerDown:setPointerTypeRef,onPointerEnter:setPointerTypeRef,onMouseMove:handleReferenceEnterOrMove,onMouseEnter:handleReferenceEnterOrMove}};},[enabled,handleReferenceEnterOrMove]);}const bubbleHandlerKeys={pointerdown:'onPointerDown',mousedown:'onMouseDown',click:'onClick'};const captureHandlerKeys={pointerdown:'onPointerDownCapture',mousedown:'onMouseDownCapture',click:'onClickCapture'};const normalizeProp=normalizable=>{var _normalizable$escapeK,_normalizable$outside;return{escapeKey:typeof normalizable==='boolean'?normalizable:(_normalizable$escapeK=normalizable==null?void 0:normalizable.escapeKey)!=null?_normalizable$escapeK:false,outsidePress:typeof normalizable==='boolean'?normalizable:(_normalizable$outside=normalizable==null?void 0:normalizable.outsidePress)!=null?_normalizable$outside:true};};/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */function useDismiss(context,props){if(props===void 0){props={};}const{open,onOpenChange,nodeId,elements:{reference,domReference,floating},dataRef}=context;const{enabled=true,escapeKey=true,outsidePress:unstable_outsidePress=true,outsidePressEvent='pointerdown',referencePress=false,referencePressEvent='pointerdown',ancestorScroll=false,bubbles,capture}=props;const tree=useFloatingTree();const outsidePressFn=useEffectEvent(typeof unstable_outsidePress==='function'?unstable_outsidePress:()=>false);const outsidePress=typeof unstable_outsidePress==='function'?outsidePressFn:unstable_outsidePress;const insideReactTreeRef=React.useRef(false);const endedOrStartedInsideRef=React.useRef(false);const{escapeKey:escapeKeyBubbles,outsidePress:outsidePressBubbles}=normalizeProp(bubbles);const{escapeKey:escapeKeyCapture,outsidePress:outsidePressCapture}=normalizeProp(capture);const closeOnEscapeKeyDown=useEffectEvent(event=>{if(!open||!enabled||!escapeKey||event.key!=='Escape'){return;}const children=tree?getChildren(tree.nodesRef.current,nodeId):[];if(!escapeKeyBubbles){event.stopPropagation();if(children.length>0){let shouldDismiss=true;children.forEach(child=>{var _child$context;if((_child$context=child.context)!=null&&_child$context.open&&!child.context.dataRef.current.__escapeKeyBubbles){shouldDismiss=false;return;}});if(!shouldDismiss){return;}}}onOpenChange(false,isReactEvent(event)?event.nativeEvent:event,'escape-key');});const closeOnEscapeKeyDownCapture=useEffectEvent(event=>{var _getTarget2;const callback=()=>{var _getTarget;closeOnEscapeKeyDown(event);(_getTarget=getTarget(event))==null||_getTarget.removeEventListener('keydown',callback);};(_getTarget2=getTarget(event))==null||_getTarget2.addEventListener('keydown',callback);});const closeOnPressOutside=useEffectEvent(event=>{// Given developers can stop the propagation of the synthetic event,\n// we can only be confident with a positive value.\nconst insideReactTree=insideReactTreeRef.current;insideReactTreeRef.current=false;// When click outside is lazy (`click` event), handle dragging.\n// Don't close if:\n// - The click started inside the floating element.\n// - The click ended inside the floating element.\nconst endedOrStartedInside=endedOrStartedInsideRef.current;endedOrStartedInsideRef.current=false;if(outsidePressEvent==='click'&&endedOrStartedInside){return;}if(insideReactTree){return;}if(typeof outsidePress==='function'&&!outsidePress(event)){return;}const target=getTarget(event);const inertSelector=\"[\"+createAttribute('inert')+\"]\";const markers=getDocument(floating).querySelectorAll(inertSelector);let targetRootAncestor=isElement(target)?target:null;while(targetRootAncestor&&!isLastTraversableNode(targetRootAncestor)){const nextParent=getParentNode(targetRootAncestor);if(isLastTraversableNode(nextParent)||!isElement(nextParent)){break;}targetRootAncestor=nextParent;}// Check if the click occurred on a third-party element injected after the\n// floating element rendered.\nif(markers.length&&isElement(target)&&!isRootElement(target)&&// Clicked on a direct ancestor (e.g. FloatingOverlay).\n!contains(target,floating)&&// If the target root element contains none of the markers, then the\n// element was injected after the floating element rendered.\nArray.from(markers).every(marker=>!contains(targetRootAncestor,marker))){return;}// Check if the click occurred on the scrollbar\nif(isHTMLElement(target)&&floating){// In Firefox, `target.scrollWidth > target.clientWidth` for inline\n// elements.\nconst canScrollX=target.clientWidth>0&&target.scrollWidth>target.clientWidth;const canScrollY=target.clientHeight>0&&target.scrollHeight>target.clientHeight;let xCond=canScrollY&&event.offsetX>target.clientWidth;// In some browsers it is possible to change the <body> (or window)\n// scrollbar to the left side, but is very rare and is difficult to\n// check for. Plus, for modal dialogs with backdrops, it is more\n// important that the backdrop is checked but not so much the window.\nif(canScrollY){const isRTL=getComputedStyle(target).direction==='rtl';if(isRTL){xCond=event.offsetX<=target.offsetWidth-target.clientWidth;}}if(xCond||canScrollX&&event.offsetY>target.clientHeight){return;}}const targetIsInsideChildren=tree&&getChildren(tree.nodesRef.current,nodeId).some(node=>{var _node$context;return isEventTargetWithin(event,(_node$context=node.context)==null?void 0:_node$context.elements.floating);});if(isEventTargetWithin(event,floating)||isEventTargetWithin(event,domReference)||targetIsInsideChildren){return;}const children=tree?getChildren(tree.nodesRef.current,nodeId):[];if(children.length>0){let shouldDismiss=true;children.forEach(child=>{var _child$context2;if((_child$context2=child.context)!=null&&_child$context2.open&&!child.context.dataRef.current.__outsidePressBubbles){shouldDismiss=false;return;}});if(!shouldDismiss){return;}}onOpenChange(false,event,'outside-press');});const closeOnPressOutsideCapture=useEffectEvent(event=>{var _getTarget4;const callback=()=>{var _getTarget3;closeOnPressOutside(event);(_getTarget3=getTarget(event))==null||_getTarget3.removeEventListener(outsidePressEvent,callback);};(_getTarget4=getTarget(event))==null||_getTarget4.addEventListener(outsidePressEvent,callback);});React.useEffect(()=>{if(!open||!enabled){return;}dataRef.current.__escapeKeyBubbles=escapeKeyBubbles;dataRef.current.__outsidePressBubbles=outsidePressBubbles;function onScroll(event){onOpenChange(false,event,'ancestor-scroll');}const doc=getDocument(floating);escapeKey&&doc.addEventListener('keydown',escapeKeyCapture?closeOnEscapeKeyDownCapture:closeOnEscapeKeyDown,escapeKeyCapture);outsidePress&&doc.addEventListener(outsidePressEvent,outsidePressCapture?closeOnPressOutsideCapture:closeOnPressOutside,outsidePressCapture);let ancestors=[];if(ancestorScroll){if(isElement(domReference)){ancestors=getOverflowAncestors(domReference);}if(isElement(floating)){ancestors=ancestors.concat(getOverflowAncestors(floating));}if(!isElement(reference)&&reference&&reference.contextElement){ancestors=ancestors.concat(getOverflowAncestors(reference.contextElement));}}// Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\nancestors=ancestors.filter(ancestor=>{var _doc$defaultView;return ancestor!==((_doc$defaultView=doc.defaultView)==null?void 0:_doc$defaultView.visualViewport);});ancestors.forEach(ancestor=>{ancestor.addEventListener('scroll',onScroll,{passive:true});});return()=>{escapeKey&&doc.removeEventListener('keydown',escapeKeyCapture?closeOnEscapeKeyDownCapture:closeOnEscapeKeyDown,escapeKeyCapture);outsidePress&&doc.removeEventListener(outsidePressEvent,outsidePressCapture?closeOnPressOutsideCapture:closeOnPressOutside,outsidePressCapture);ancestors.forEach(ancestor=>{ancestor.removeEventListener('scroll',onScroll);});};},[dataRef,floating,domReference,reference,escapeKey,outsidePress,outsidePressEvent,open,onOpenChange,ancestorScroll,enabled,escapeKeyBubbles,outsidePressBubbles,closeOnEscapeKeyDown,escapeKeyCapture,closeOnEscapeKeyDownCapture,closeOnPressOutside,outsidePressCapture,closeOnPressOutsideCapture]);// biome-ignore lint/correctness/useExhaustiveDependencies: intentional\nReact.useEffect(()=>{insideReactTreeRef.current=false;},[outsidePress,outsidePressEvent]);return React.useMemo(()=>{if(!enabled){return{};}return{reference:{onKeyDown:closeOnEscapeKeyDown,[bubbleHandlerKeys[referencePressEvent]]:event=>{if(referencePress){onOpenChange(false,event.nativeEvent,'reference-press');}}},floating:{onKeyDown:closeOnEscapeKeyDown,onMouseDown(){endedOrStartedInsideRef.current=true;},onMouseUp(){endedOrStartedInsideRef.current=true;},[captureHandlerKeys[outsidePressEvent]]:()=>{insideReactTreeRef.current=true;}}};},[enabled,referencePress,outsidePressEvent,referencePressEvent,onOpenChange,closeOnEscapeKeyDown]);}let devMessageSet;if(process.env.NODE_ENV!==\"production\"){devMessageSet=/*#__PURE__*/new Set();}/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */function useFloating(options){var _options$elements2;if(options===void 0){options={};}const{open=false,onOpenChange:unstable_onOpenChange,nodeId}=options;if(process.env.NODE_ENV!==\"production\"){var _options$elements;const err='Floating UI: Cannot pass a virtual element to the '+'`elements.reference` option, as it must be a real DOM element. '+'Use `refs.setPositionReference` instead.';if((_options$elements=options.elements)!=null&&_options$elements.reference&&!isElement(options.elements.reference)){var _devMessageSet;if(!((_devMessageSet=devMessageSet)!=null&&_devMessageSet.has(err))){var _devMessageSet2;(_devMessageSet2=devMessageSet)==null||_devMessageSet2.add(err);console.error(err);}}}const[_domReference,setDomReference]=React.useState(null);const domReference=((_options$elements2=options.elements)==null?void 0:_options$elements2.reference)||_domReference;const position=useFloating$1(options);const tree=useFloatingTree();const nested=useFloatingParentNodeId()!=null;const onOpenChange=useEffectEvent((open,event,reason)=>{if(open){dataRef.current.openEvent=event;}events.emit('openchange',{open,event,reason,nested});unstable_onOpenChange==null||unstable_onOpenChange(open,event,reason);});const domReferenceRef=React.useRef(null);const dataRef=React.useRef({});const events=React.useState(()=>createPubSub())[0];const floatingId=useId();const setPositionReference=React.useCallback(node=>{const positionReference=isElement(node)?{getBoundingClientRect:()=>node.getBoundingClientRect(),contextElement:node}:node;position.refs.setReference(positionReference);},[position.refs]);const setReference=React.useCallback(node=>{if(isElement(node)||node===null){domReferenceRef.current=node;setDomReference(node);}// Backwards-compatibility for passing a virtual element to `reference`\n// after it has set the DOM reference.\nif(isElement(position.refs.reference.current)||position.refs.reference.current===null||// Don't allow setting virtual elements using the old technique back to\n// `null` to support `positionReference` + an unstable `reference`\n// callback ref.\nnode!==null&&!isElement(node)){position.refs.setReference(node);}},[position.refs]);const refs=React.useMemo(()=>({...position.refs,setReference,setPositionReference,domReference:domReferenceRef}),[position.refs,setReference,setPositionReference]);const elements=React.useMemo(()=>({...position.elements,domReference:domReference}),[position.elements,domReference]);const context=React.useMemo(()=>({...position,refs,elements,dataRef,nodeId,floatingId,events,open,onOpenChange}),[position,nodeId,floatingId,events,open,onOpenChange,refs,elements]);index(()=>{const node=tree==null?void 0:tree.nodesRef.current.find(node=>node.id===nodeId);if(node){node.context=context;}});return React.useMemo(()=>({...position,context,refs,elements}),[position,refs,elements,context]);}/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */function useFocus(context,props){if(props===void 0){props={};}const{open,onOpenChange,events,refs,elements:{domReference}}=context;const{enabled=true,visibleOnly=true}=props;const blockFocusRef=React.useRef(false);const timeoutRef=React.useRef();const keyboardModalityRef=React.useRef(true);React.useEffect(()=>{if(!enabled){return;}const win=getWindow(domReference);// If the reference was focused and the user left the tab/window, and the\n// floating element was not open, the focus should be blocked when they\n// return to the tab/window.\nfunction onBlur(){if(!open&&isHTMLElement(domReference)&&domReference===activeElement(getDocument(domReference))){blockFocusRef.current=true;}}function onKeyDown(){keyboardModalityRef.current=true;}win.addEventListener('blur',onBlur);win.addEventListener('keydown',onKeyDown,true);return()=>{win.removeEventListener('blur',onBlur);win.removeEventListener('keydown',onKeyDown,true);};},[domReference,open,enabled]);React.useEffect(()=>{if(!enabled){return;}function onOpenChange(_ref){let{reason}=_ref;if(reason==='reference-press'||reason==='escape-key'){blockFocusRef.current=true;}}events.on('openchange',onOpenChange);return()=>{events.off('openchange',onOpenChange);};},[events,enabled]);React.useEffect(()=>{return()=>{clearTimeout(timeoutRef.current);};},[]);return React.useMemo(()=>{if(!enabled){return{};}return{reference:{onPointerDown(event){if(isVirtualPointerEvent(event.nativeEvent))return;keyboardModalityRef.current=false;},onMouseLeave(){blockFocusRef.current=false;},onFocus(event){if(blockFocusRef.current)return;const target=getTarget(event.nativeEvent);if(visibleOnly&&isElement(target)){try{// Mac Safari unreliably matches `:focus-visible` on the reference\n// if focus was outside the page initially - use the fallback\n// instead.\nif(isSafari()&&isMac())throw Error();if(!target.matches(':focus-visible'))return;}catch(e){// Old browsers will throw an error when using `:focus-visible`.\nif(!keyboardModalityRef.current&&!isTypeableElement(target)){return;}}}onOpenChange(true,event.nativeEvent,'focus');},onBlur(event){blockFocusRef.current=false;const relatedTarget=event.relatedTarget;// Hit the non-modal focus management portal guard. Focus will be\n// moved into the floating element immediately after.\nconst movedToFocusGuard=isElement(relatedTarget)&&relatedTarget.hasAttribute(createAttribute('focus-guard'))&&relatedTarget.getAttribute('data-type')==='outside';// Wait for the window blur listener to fire.\ntimeoutRef.current=window.setTimeout(()=>{const activeEl=activeElement(domReference?domReference.ownerDocument:document);// Focus left the page, keep it open.\nif(!relatedTarget&&activeEl===domReference)return;// When focusing the reference element (e.g. regular click), then\n// clicking into the floating element, prevent it from hiding.\n// Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n// We can not rely on relatedTarget to point to the correct element\n// as it will only point to the shadow host of the newly focused element\n// and not the element that actually has received focus if it is located\n// inside a shadow root.\nif(contains(refs.floating.current,activeEl)||contains(domReference,activeEl)||movedToFocusGuard){return;}onOpenChange(false,event.nativeEvent,'focus');});}}};},[enabled,visibleOnly,domReference,refs,onOpenChange]);}const ACTIVE_KEY='active';const SELECTED_KEY='selected';function mergeProps(userProps,propsList,elementKey){const map=new Map();const isItem=elementKey==='item';let domUserProps=userProps;if(isItem&&userProps){const{[ACTIVE_KEY]:_,[SELECTED_KEY]:__,...validProps}=userProps;domUserProps=validProps;}return{...(elementKey==='floating'&&{tabIndex:-1}),...domUserProps,...propsList.map(value=>{const propsOrGetProps=value?value[elementKey]:null;if(typeof propsOrGetProps==='function'){return userProps?propsOrGetProps(userProps):null;}return propsOrGetProps;}).concat(userProps).reduce((acc,props)=>{if(!props){return acc;}Object.entries(props).forEach(_ref=>{let[key,value]=_ref;if(isItem&&[ACTIVE_KEY,SELECTED_KEY].includes(key)){return;}if(key.indexOf('on')===0){if(!map.has(key)){map.set(key,[]);}if(typeof value==='function'){var _map$get;(_map$get=map.get(key))==null||_map$get.push(value);acc[key]=function(){var _map$get2;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return(_map$get2=map.get(key))==null?void 0:_map$get2.map(fn=>fn(...args)).find(val=>val!==undefined);};}}else{acc[key]=value;}});return acc;},{})};}/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */function useInteractions(propsList){if(propsList===void 0){propsList=[];}// The dependencies are a dynamic array, so we can't use the linter's\n// suggestion to add it to the deps array.\nconst deps=propsList;// biome-ignore lint/correctness/useExhaustiveDependencies: intentional\nconst getReferenceProps=React.useCallback(userProps=>mergeProps(userProps,propsList,'reference'),deps);// biome-ignore lint/correctness/useExhaustiveDependencies: intentional\nconst getFloatingProps=React.useCallback(userProps=>mergeProps(userProps,propsList,'floating'),deps);// biome-ignore lint/correctness/useExhaustiveDependencies: intentional\nconst getItemProps=React.useCallback(userProps=>mergeProps(userProps,propsList,'item'),// Granularly check for `item` changes, because the `getItemProps` getter\n// should be as referentially stable as possible since it may be passed as\n// a prop to many components. All `item` key values must therefore be\n// memoized.\npropsList.map(key=>key==null?void 0:key.item));return React.useMemo(()=>({getReferenceProps,getFloatingProps,getItemProps}),[getReferenceProps,getFloatingProps,getItemProps]);}let isPreventScrollSupported=false;function doSwitch(orientation,vertical,horizontal){switch(orientation){case'vertical':return vertical;case'horizontal':return horizontal;default:return vertical||horizontal;}}function isMainOrientationKey(key,orientation){const vertical=key===ARROW_UP||key===ARROW_DOWN;const horizontal=key===ARROW_LEFT||key===ARROW_RIGHT;return doSwitch(orientation,vertical,horizontal);}function isMainOrientationToEndKey(key,orientation,rtl){const vertical=key===ARROW_DOWN;const horizontal=rtl?key===ARROW_LEFT:key===ARROW_RIGHT;return doSwitch(orientation,vertical,horizontal)||key==='Enter'||key===' '||key==='';}function isCrossOrientationOpenKey(key,orientation,rtl){const vertical=rtl?key===ARROW_LEFT:key===ARROW_RIGHT;const horizontal=key===ARROW_DOWN;return doSwitch(orientation,vertical,horizontal);}function isCrossOrientationCloseKey(key,orientation,rtl){const vertical=rtl?key===ARROW_RIGHT:key===ARROW_LEFT;const horizontal=key===ARROW_UP;return doSwitch(orientation,vertical,horizontal);}/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */function useListNavigation(context,props){const{open,onOpenChange,refs,elements:{domReference,floating}}=context;const{listRef,activeIndex,onNavigate:unstable_onNavigate=()=>{},enabled=true,selectedIndex=null,allowEscape=false,loop=false,nested=false,rtl=false,virtual=false,focusItemOnOpen='auto',focusItemOnHover=true,openOnArrowKeyDown=true,disabledIndices=undefined,orientation='vertical',cols=1,scrollItemIntoView=true,virtualItemRef,itemSizes,dense=false}=props;if(process.env.NODE_ENV!==\"production\"){if(allowEscape){if(!loop){console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow','escaping.'].join(' '));}if(!virtual){console.warn(['Floating UI: `useListNavigation` must be virtual to allow','escaping.'].join(' '));}}if(orientation==='vertical'&&cols>1){console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the','`orientation` should be either \"horizontal\" or \"both\".'].join(' '));}}const parentId=useFloatingParentNodeId();const tree=useFloatingTree();const onNavigate=useEffectEvent(unstable_onNavigate);const focusItemOnOpenRef=React.useRef(focusItemOnOpen);const indexRef=React.useRef(selectedIndex!=null?selectedIndex:-1);const keyRef=React.useRef(null);const isPointerModalityRef=React.useRef(true);const previousOnNavigateRef=React.useRef(onNavigate);const previousMountedRef=React.useRef(!!floating);const forceSyncFocus=React.useRef(false);const forceScrollIntoViewRef=React.useRef(false);const disabledIndicesRef=useLatestRef(disabledIndices);const latestOpenRef=useLatestRef(open);const scrollItemIntoViewRef=useLatestRef(scrollItemIntoView);const[activeId,setActiveId]=React.useState();const[virtualId,setVirtualId]=React.useState();const focusItem=useEffectEvent(function(listRef,indexRef,forceScrollIntoView){if(forceScrollIntoView===void 0){forceScrollIntoView=false;}const item=listRef.current[indexRef.current];if(!item)return;if(virtual){setActiveId(item.id);tree==null||tree.events.emit('virtualfocus',item);if(virtualItemRef){virtualItemRef.current=item;}}else{enqueueFocus(item,{preventScroll:true,// Mac Safari does not move the virtual cursor unless the focus call\n// is sync. However, for the very first focus call, we need to wait\n// for the position to be ready in order to prevent unwanted\n// scrolling. This means the virtual cursor will not move to the first\n// item when first opening the floating element, but will on\n// subsequent calls. `preventScroll` is supported in modern Safari,\n// so we can use that instead.\n// iOS Safari must be async or the first item will not be focused.\nsync:isMac()&&isSafari()?isPreventScrollSupported||forceSyncFocus.current:false});}requestAnimationFrame(()=>{const scrollIntoViewOptions=scrollItemIntoViewRef.current;const shouldScrollIntoView=scrollIntoViewOptions&&item&&(forceScrollIntoView||!isPointerModalityRef.current);if(shouldScrollIntoView){// JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n// by all browsers.\nitem.scrollIntoView==null||item.scrollIntoView(typeof scrollIntoViewOptions==='boolean'?{block:'nearest',inline:'nearest'}:scrollIntoViewOptions);}});});index(()=>{document.createElement('div').focus({get preventScroll(){isPreventScrollSupported=true;return false;}});},[]);// Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n// element. Also, reset `activeIndex` upon closing the floating element.\nindex(()=>{if(!enabled){return;}if(open&&floating){if(focusItemOnOpenRef.current&&selectedIndex!=null){// Regardless of the pointer modality, we want to ensure the selected\n// item comes into view when the floating element is opened.\nforceScrollIntoViewRef.current=true;indexRef.current=selectedIndex;onNavigate(selectedIndex);}}else if(previousMountedRef.current){// Since the user can specify `onNavigate` conditionally\n// (onNavigate: open ? setActiveIndex : setSelectedIndex),\n// we store and call the previous function.\nindexRef.current=-1;previousOnNavigateRef.current(null);}},[enabled,open,floating,selectedIndex,onNavigate]);// Sync `activeIndex` to be the focused item while the floating element is\n// open.\nindex(()=>{if(!enabled){return;}if(open&&floating){if(activeIndex==null){forceSyncFocus.current=false;if(selectedIndex!=null){return;}// Reset while the floating element was open (e.g. the list changed).\nif(previousMountedRef.current){indexRef.current=-1;focusItem(listRef,indexRef);}// Initial sync.\nif(!previousMountedRef.current&&focusItemOnOpenRef.current&&(keyRef.current!=null||focusItemOnOpenRef.current===true&&keyRef.current==null)){let runs=0;const waitForListPopulated=()=>{if(listRef.current[0]==null){// Avoid letting the browser paint if possible on the first try,\n// otherwise use rAF. Don't try more than twice, since something\n// is wrong otherwise.\nif(runs<2){const scheduler=runs?requestAnimationFrame:queueMicrotask;scheduler(waitForListPopulated);}runs++;}else{indexRef.current=keyRef.current==null||isMainOrientationToEndKey(keyRef.current,orientation,rtl)||nested?getMinIndex(listRef,disabledIndicesRef.current):getMaxIndex(listRef,disabledIndicesRef.current);keyRef.current=null;onNavigate(indexRef.current);}};waitForListPopulated();}}else if(!isIndexOutOfBounds(listRef,activeIndex)){indexRef.current=activeIndex;focusItem(listRef,indexRef,forceScrollIntoViewRef.current);forceScrollIntoViewRef.current=false;}}},[enabled,open,floating,activeIndex,selectedIndex,nested,listRef,orientation,rtl,onNavigate,focusItem,disabledIndicesRef]);// Ensure the parent floating element has focus when a nested child closes\n// to allow arrow key navigation to work after the pointer leaves the child.\nindex(()=>{var _nodes$find;if(!enabled||floating||!tree||virtual||!previousMountedRef.current){return;}const nodes=tree.nodesRef.current;const parent=(_nodes$find=nodes.find(node=>node.id===parentId))==null||(_nodes$find=_nodes$find.context)==null?void 0:_nodes$find.elements.floating;const activeEl=activeElement(getDocument(floating));const treeContainsActiveEl=nodes.some(node=>node.context&&contains(node.context.elements.floating,activeEl));if(parent&&!treeContainsActiveEl&&isPointerModalityRef.current){parent.focus({preventScroll:true});}},[enabled,floating,tree,parentId,virtual]);index(()=>{if(!enabled||!tree||!virtual||parentId)return;function handleVirtualFocus(item){setVirtualId(item.id);if(virtualItemRef){virtualItemRef.current=item;}}tree.events.on('virtualfocus',handleVirtualFocus);return()=>{tree.events.off('virtualfocus',handleVirtualFocus);};},[enabled,tree,virtual,parentId,virtualItemRef]);index(()=>{previousOnNavigateRef.current=onNavigate;previousMountedRef.current=!!floating;});index(()=>{if(!open){keyRef.current=null;}},[open]);const hasActiveIndex=activeIndex!=null;const item=React.useMemo(()=>{function syncCurrentTarget(currentTarget){if(!open)return;const index=listRef.current.indexOf(currentTarget);if(index!==-1){onNavigate(index);}}const props={onFocus(_ref){let{currentTarget}=_ref;syncCurrentTarget(currentTarget);},onClick:_ref2=>{let{currentTarget}=_ref2;return currentTarget.focus({preventScroll:true});},// Safari\n...(focusItemOnHover&&{onMouseMove(_ref3){let{currentTarget}=_ref3;syncCurrentTarget(currentTarget);},onPointerLeave(_ref4){let{pointerType}=_ref4;if(!isPointerModalityRef.current||pointerType==='touch'){return;}indexRef.current=-1;focusItem(listRef,indexRef);onNavigate(null);if(!virtual){enqueueFocus(refs.floating.current,{preventScroll:true});}}})};return props;},[open,refs,focusItem,focusItemOnHover,listRef,onNavigate,virtual]);return React.useMemo(()=>{if(!enabled){return{};}const disabledIndices=disabledIndicesRef.current;function onKeyDown(event){isPointerModalityRef.current=false;forceSyncFocus.current=true;// If the floating element is animating out, ignore navigation. Otherwise,\n// the `activeIndex` gets set to 0 despite not being open so the next time\n// the user ArrowDowns, the first item won't be focused.\nif(!latestOpenRef.current&&event.currentTarget===refs.floating.current){return;}if(nested&&isCrossOrientationCloseKey(event.key,orientation,rtl)){stopEvent(event);onOpenChange(false,event.nativeEvent,'list-navigation');if(isHTMLElement(domReference)&&!virtual){domReference.focus();}return;}const currentIndex=indexRef.current;const minIndex=getMinIndex(listRef,disabledIndices);const maxIndex=getMaxIndex(listRef,disabledIndices);if(event.key==='Home'){stopEvent(event);indexRef.current=minIndex;onNavigate(indexRef.current);}if(event.key==='End'){stopEvent(event);indexRef.current=maxIndex;onNavigate(indexRef.current);}// Grid navigation.\nif(cols>1){const sizes=itemSizes||Array.from({length:listRef.current.length},()=>({width:1,height:1}));// To calculate movements on the grid, we use hypothetical cell indices\n// as if every item was 1x1, then convert back to real indices.\nconst cellMap=buildCellMap(sizes,cols,dense);const minGridIndex=cellMap.findIndex(index=>index!=null&&!(disabledIndices!=null&&disabledIndices.includes(index)));// last enabled index\nconst maxGridIndex=cellMap.reduce((foundIndex,index,cellIndex)=>index!=null&&!(disabledIndices!=null&&disabledIndices.includes(index))?cellIndex:foundIndex,-1);indexRef.current=cellMap[getGridNavigatedIndex({current:cellMap.map(itemIndex=>itemIndex!=null?listRef.current[itemIndex]:null)},{event,orientation,loop,cols,// treat undefined (empty grid spaces) as disabled indices so we\n// don't end up in them\ndisabledIndices:getCellIndices([...(disabledIndices||[]),undefined],cellMap),minIndex:minGridIndex,maxIndex:maxGridIndex,prevIndex:getCellIndexOfCorner(indexRef.current,sizes,cellMap,cols,// use a corner matching the edge closest to the direction\n// we're moving in so we don't end up in the same item. Prefer\n// top/left over bottom/right.\nevent.key===ARROW_DOWN?'bl':event.key===ARROW_RIGHT?'tr':'tl'),stopEvent:true})];// navigated cell will never be nullish\nonNavigate(indexRef.current);if(orientation==='both'){return;}}if(isMainOrientationKey(event.key,orientation)){stopEvent(event);// Reset the index if no item is focused.\nif(open&&!virtual&&activeElement(event.currentTarget.ownerDocument)===event.currentTarget){indexRef.current=isMainOrientationToEndKey(event.key,orientation,rtl)?minIndex:maxIndex;onNavigate(indexRef.current);return;}if(isMainOrientationToEndKey(event.key,orientation,rtl)){if(loop){indexRef.current=currentIndex>=maxIndex?allowEscape&&currentIndex!==listRef.current.length?-1:minIndex:findNonDisabledIndex(listRef,{startingIndex:currentIndex,disabledIndices});}else{indexRef.current=Math.min(maxIndex,findNonDisabledIndex(listRef,{startingIndex:currentIndex,disabledIndices}));}}else{if(loop){indexRef.current=currentIndex<=minIndex?allowEscape&&currentIndex!==-1?listRef.current.length:maxIndex:findNonDisabledIndex(listRef,{startingIndex:currentIndex,decrement:true,disabledIndices});}else{indexRef.current=Math.max(minIndex,findNonDisabledIndex(listRef,{startingIndex:currentIndex,decrement:true,disabledIndices}));}}if(isIndexOutOfBounds(listRef,indexRef.current)){onNavigate(null);}else{onNavigate(indexRef.current);}}}function checkVirtualMouse(event){if(focusItemOnOpen==='auto'&&isVirtualClick(event.nativeEvent)){focusItemOnOpenRef.current=true;}}function checkVirtualPointer(event){// `pointerdown` fires first, reset the state then perform the checks.\nfocusItemOnOpenRef.current=focusItemOnOpen;if(focusItemOnOpen==='auto'&&isVirtualPointerEvent(event.nativeEvent)){focusItemOnOpenRef.current=true;}}const ariaActiveDescendantProp=virtual&&open&&hasActiveIndex&&{'aria-activedescendant':virtualId||activeId};const activeItem=listRef.current.find(item=>(item==null?void 0:item.id)===activeId);return{reference:{...ariaActiveDescendantProp,onKeyDown(event){isPointerModalityRef.current=false;const isArrowKey=event.key.indexOf('Arrow')===0;const isCrossOpenKey=isCrossOrientationOpenKey(event.key,orientation,rtl);const isCrossCloseKey=isCrossOrientationCloseKey(event.key,orientation,rtl);const isMainKey=isMainOrientationKey(event.key,orientation);const isNavigationKey=(nested?isCrossOpenKey:isMainKey)||event.key==='Enter'||event.key.trim()==='';if(virtual&&open){const rootNode=tree==null?void 0:tree.nodesRef.current.find(node=>node.parentId==null);const deepestNode=tree&&rootNode?getDeepestNode(tree.nodesRef.current,rootNode.id):null;if(isArrowKey&&deepestNode&&virtualItemRef){const eventObject=new KeyboardEvent('keydown',{key:event.key,bubbles:true});if(isCrossOpenKey||isCrossCloseKey){var _deepestNode$context,_deepestNode$context2;const isCurrentTarget=((_deepestNode$context=deepestNode.context)==null?void 0:_deepestNode$context.elements.domReference)===event.currentTarget;const dispatchItem=isCrossCloseKey&&!isCurrentTarget?(_deepestNode$context2=deepestNode.context)==null?void 0:_deepestNode$context2.elements.domReference:isCrossOpenKey?activeItem:null;if(dispatchItem){stopEvent(event);dispatchItem.dispatchEvent(eventObject);setVirtualId(undefined);}}if(isMainKey&&deepestNode.context){if(deepestNode.context.open&&deepestNode.parentId&&event.currentTarget!==deepestNode.context.elements.domReference){var _deepestNode$context$;stopEvent(event);(_deepestNode$context$=deepestNode.context.elements.domReference)==null||_deepestNode$context$.dispatchEvent(eventObject);return;}}}return onKeyDown(event);}// If a floating element should not open on arrow key down, avoid\n// setting `activeIndex` while it's closed.\nif(!open&&!openOnArrowKeyDown&&isArrowKey){return;}if(isNavigationKey){keyRef.current=nested&&isMainKey?null:event.key;}if(nested){if(isCrossOpenKey){stopEvent(event);if(open){indexRef.current=getMinIndex(listRef,disabledIndices);onNavigate(indexRef.current);}else{onOpenChange(true,event.nativeEvent,'list-navigation');}}return;}if(isMainKey){if(selectedIndex!=null){indexRef.current=selectedIndex;}stopEvent(event);if(!open&&openOnArrowKeyDown){onOpenChange(true,event.nativeEvent,'list-navigation');}else{onKeyDown(event);}if(open){onNavigate(indexRef.current);}}},onFocus(){if(open){onNavigate(null);}},onPointerDown:checkVirtualPointer,onMouseDown:checkVirtualMouse,onClick:checkVirtualMouse},floating:{'aria-orientation':orientation==='both'?undefined:orientation,...(!isTypeableCombobox(domReference)&&ariaActiveDescendantProp),onKeyDown,onPointerMove(){isPointerModalityRef.current=true;}},item};},[domReference,refs,activeId,virtualId,disabledIndicesRef,latestOpenRef,listRef,enabled,orientation,rtl,virtual,open,hasActiveIndex,nested,selectedIndex,openOnArrowKeyDown,allowEscape,cols,loop,focusItemOnOpen,onNavigate,onOpenChange,item,tree,virtualItemRef,itemSizes,dense]);}const componentRoleToAriaRoleMap=/*#__PURE__*/new Map([['select','listbox'],['combobox','listbox'],['label',false]]);/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */function useRole(context,props){var _componentRoleToAriaR;if(props===void 0){props={};}const{open,floatingId}=context;const{enabled=true,role='dialog'}=props;const ariaRole=(_componentRoleToAriaR=componentRoleToAriaRoleMap.get(role))!=null?_componentRoleToAriaR:role;const referenceId=useId();const parentId=useFloatingParentNodeId();const isNested=parentId!=null;return React.useMemo(()=>{if(!enabled)return{};const floatingProps={id:floatingId,...(ariaRole&&{role:ariaRole})};if(ariaRole==='tooltip'||role==='label'){return{reference:{[\"aria-\"+(role==='label'?'labelledby':'describedby')]:open?floatingId:undefined},floating:floatingProps};}return{reference:{'aria-expanded':open?'true':'false','aria-haspopup':ariaRole==='alertdialog'?'dialog':ariaRole,'aria-controls':open?floatingId:undefined,...(ariaRole==='listbox'&&{role:'combobox'}),...(ariaRole==='menu'&&{id:referenceId}),...(ariaRole==='menu'&&isNested&&{role:'menuitem'}),...(role==='select'&&{'aria-autocomplete':'none'}),...(role==='combobox'&&{'aria-autocomplete':'list'})},floating:{...floatingProps,...(ariaRole==='menu'&&{'aria-labelledby':referenceId})},item(_ref){let{active,selected}=_ref;const commonProps={role:'option',...(active&&{id:floatingId+\"-option\"})};// For `menu`, we are unable to tell if the item is a `menuitemradio`\n// or `menuitemcheckbox`. For backwards-compatibility reasons, also\n// avoid defaulting to `menuitem` as it may overwrite custom role props.\nswitch(role){case'select':return{...commonProps,'aria-selected':active&&selected};case'combobox':{return{...commonProps,...(active&&{'aria-selected':true})};}}return{};}};},[enabled,role,ariaRole,open,floatingId,referenceId,isNested]);}// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase=str=>str.replace(/[A-Z]+(?![a-z])|[A-Z]/g,($,ofs)=>(ofs?'-':'')+$.toLowerCase());function execWithArgsOrReturn(valueOrFn,args){return typeof valueOrFn==='function'?valueOrFn(args):valueOrFn;}function useDelayUnmount(open,durationMs){const[isMounted,setIsMounted]=React.useState(open);if(open&&!isMounted){setIsMounted(true);}React.useEffect(()=>{if(!open){const timeout=setTimeout(()=>setIsMounted(false),durationMs);return()=>clearTimeout(timeout);}},[open,durationMs]);return isMounted;}/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */function useTransitionStatus(context,props){if(props===void 0){props={};}const{open,elements:{floating}}=context;const{duration=250}=props;const isNumberDuration=typeof duration==='number';const closeDuration=(isNumberDuration?duration:duration.close)||0;const[initiated,setInitiated]=React.useState(false);const[status,setStatus]=React.useState('unmounted');const isMounted=useDelayUnmount(open,closeDuration);// `initiated` check prevents this `setState` call from breaking\n// <FloatingPortal />. This call is necessary to ensure subsequent opens\n// after the initial one allows the correct side animation to play when the\n// placement has changed.\nindex(()=>{if(initiated&&!isMounted){setStatus('unmounted');}},[initiated,isMounted]);index(()=>{if(!floating)return;if(open){setStatus('initial');const frame=requestAnimationFrame(()=>{setStatus('open');});return()=>{cancelAnimationFrame(frame);};}setInitiated(true);setStatus('close');},[open,floating]);return{isMounted,status};}/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */function useTransitionStyles(context,props){if(props===void 0){props={};}const{initial:unstable_initial={opacity:0},open:unstable_open,close:unstable_close,common:unstable_common,duration=250}=props;const placement=context.placement;const side=placement.split('-')[0];const fnArgs=React.useMemo(()=>({side,placement}),[side,placement]);const isNumberDuration=typeof duration==='number';const openDuration=(isNumberDuration?duration:duration.open)||0;const closeDuration=(isNumberDuration?duration:duration.close)||0;const[styles,setStyles]=React.useState(()=>({...execWithArgsOrReturn(unstable_common,fnArgs),...execWithArgsOrReturn(unstable_initial,fnArgs)}));const{isMounted,status}=useTransitionStatus(context,{duration});const initialRef=useLatestRef(unstable_initial);const openRef=useLatestRef(unstable_open);const closeRef=useLatestRef(unstable_close);const commonRef=useLatestRef(unstable_common);index(()=>{const initialStyles=execWithArgsOrReturn(initialRef.current,fnArgs);const closeStyles=execWithArgsOrReturn(closeRef.current,fnArgs);const commonStyles=execWithArgsOrReturn(commonRef.current,fnArgs);const openStyles=execWithArgsOrReturn(openRef.current,fnArgs)||Object.keys(initialStyles).reduce((acc,key)=>{acc[key]='';return acc;},{});if(status==='initial'){setStyles(styles=>({transitionProperty:styles.transitionProperty,...commonStyles,...initialStyles}));}if(status==='open'){setStyles({transitionProperty:Object.keys(openStyles).map(camelCaseToKebabCase).join(','),transitionDuration:openDuration+\"ms\",...commonStyles,...openStyles});}if(status==='close'){const styles=closeStyles||initialStyles;setStyles({transitionProperty:Object.keys(styles).map(camelCaseToKebabCase).join(','),transitionDuration:closeDuration+\"ms\",...commonStyles,...styles});}},[closeDuration,closeRef,initialRef,openRef,commonRef,openDuration,status,fnArgs]);return{isMounted,styles};}/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */function useTypeahead(context,props){var _ref;const{open,dataRef}=context;const{listRef,activeIndex,onMatch:unstable_onMatch,onTypingChange:unstable_onTypingChange,enabled=true,findMatch=null,resetMs=750,ignoreKeys=[],selectedIndex=null}=props;const timeoutIdRef=React.useRef();const stringRef=React.useRef('');const prevIndexRef=React.useRef((_ref=selectedIndex!=null?selectedIndex:activeIndex)!=null?_ref:-1);const matchIndexRef=React.useRef(null);const onMatch=useEffectEvent(unstable_onMatch);const onTypingChange=useEffectEvent(unstable_onTypingChange);const findMatchRef=useLatestRef(findMatch);const ignoreKeysRef=useLatestRef(ignoreKeys);index(()=>{if(open){clearTimeout(timeoutIdRef.current);matchIndexRef.current=null;stringRef.current='';}},[open]);index(()=>{// Sync arrow key navigation but not typeahead navigation.\nif(open&&stringRef.current===''){var _ref2;prevIndexRef.current=(_ref2=selectedIndex!=null?selectedIndex:activeIndex)!=null?_ref2:-1;}},[open,selectedIndex,activeIndex]);return React.useMemo(()=>{if(!enabled){return{};}function setTypingChange(value){if(value){if(!dataRef.current.typing){dataRef.current.typing=value;onTypingChange(value);}}else{if(dataRef.current.typing){dataRef.current.typing=value;onTypingChange(value);}}}function getMatchingIndex(list,orderedList,string){const str=findMatchRef.current?findMatchRef.current(orderedList,string):orderedList.find(text=>(text==null?void 0:text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase()))===0);return str?list.indexOf(str):-1;}function onKeyDown(event){const listContent=listRef.current;if(stringRef.current.length>0&&stringRef.current[0]!==' '){if(getMatchingIndex(listContent,listContent,stringRef.current)===-1){setTypingChange(false);}else if(event.key===' '){stopEvent(event);}}if(listContent==null||ignoreKeysRef.current.includes(event.key)||// Character key.\nevent.key.length!==1||// Modifier key.\nevent.ctrlKey||event.metaKey||event.altKey){return;}if(open&&event.key!==' '){stopEvent(event);setTypingChange(true);}// Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n// allow it in this case, too.\nconst allowRapidSuccessionOfFirstLetter=listContent.every(text=>{var _text$,_text$2;return text?((_text$=text[0])==null?void 0:_text$.toLocaleLowerCase())!==((_text$2=text[1])==null?void 0:_text$2.toLocaleLowerCase()):true;});// Allows the user to cycle through items that start with the same letter\n// in rapid succession.\nif(allowRapidSuccessionOfFirstLetter&&stringRef.current===event.key){stringRef.current='';prevIndexRef.current=matchIndexRef.current;}stringRef.current+=event.key;clearTimeout(timeoutIdRef.current);timeoutIdRef.current=setTimeout(()=>{stringRef.current='';prevIndexRef.current=matchIndexRef.current;setTypingChange(false);},resetMs);const prevIndex=prevIndexRef.current;const index=getMatchingIndex(listContent,[...listContent.slice((prevIndex||0)+1),...listContent.slice(0,(prevIndex||0)+1)],stringRef.current);if(index!==-1){onMatch(index);matchIndexRef.current=index;}else if(event.key!==' '){stringRef.current='';setTypingChange(false);}}return{reference:{onKeyDown},floating:{onKeyDown,onKeyUp(event){if(event.key===' '){setTypingChange(false);}}}};},[enabled,open,dataRef,listRef,resetMs,ignoreKeysRef,findMatchRef,onMatch,onTypingChange]);}function getArgsWithCustomFloatingHeight(state,height){return{...state,rects:{...state.rects,floating:{...state.rects.floating,height}}};}/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */const inner=props=>({name:'inner',options:props,async fn(state){const{listRef,overflowRef,onFallbackChange,offset:innerOffset=0,index=0,minItemsVisible=4,referenceOverflowThreshold=0,scrollRef,...detectOverflowOptions}=props;const{rects,elements:{floating}}=state;const item=listRef.current[index];if(process.env.NODE_ENV!==\"production\"){if(!state.placement.startsWith('bottom')){console.warn(['Floating UI: `placement` side must be \"bottom\" when using the','`inner` middleware.'].join(' '));}}if(!item){return{};}const nextArgs={...state,...(await offset(-item.offsetTop-floating.clientTop-rects.reference.height/2-item.offsetHeight/2-innerOffset).fn(state))};const el=(scrollRef==null?void 0:scrollRef.current)||floating;const overflow=await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs,el.scrollHeight),detectOverflowOptions);const refOverflow=await detectOverflow(nextArgs,{...detectOverflowOptions,elementContext:'reference'});const diffY=Math.max(0,overflow.top);const nextY=nextArgs.y+diffY;const maxHeight=Math.max(0,el.scrollHeight-diffY-Math.max(0,overflow.bottom));el.style.maxHeight=maxHeight+\"px\";el.scrollTop=diffY;// There is not enough space, fallback to standard anchored positioning\nif(onFallbackChange){if(el.offsetHeight<item.offsetHeight*Math.min(minItemsVisible,listRef.current.length-1)-1||refOverflow.top>=-referenceOverflowThreshold||refOverflow.bottom>=-referenceOverflowThreshold){flushSync(()=>onFallbackChange(true));}else{flushSync(()=>onFallbackChange(false));}}if(overflowRef){overflowRef.current=await detectOverflow(getArgsWithCustomFloatingHeight({...nextArgs,y:nextY},el.offsetHeight),detectOverflowOptions);}return{y:nextY};}});/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */function useInnerOffset(context,props){const{open,elements}=context;const{enabled=true,overflowRef,scrollRef,onChange:unstable_onChange}=props;const onChange=useEffectEvent(unstable_onChange);const controlledScrollingRef=React.useRef(false);const prevScrollTopRef=React.useRef(null);const initialOverflowRef=React.useRef(null);React.useEffect(()=>{if(!enabled){return;}function onWheel(e){if(e.ctrlKey||!el||overflowRef.current==null){return;}const dY=e.deltaY;const isAtTop=overflowRef.current.top>=-0.5;const isAtBottom=overflowRef.current.bottom>=-0.5;const remainingScroll=el.scrollHeight-el.clientHeight;const sign=dY<0?-1:1;const method=dY<0?'max':'min';if(el.scrollHeight<=el.clientHeight){return;}if(!isAtTop&&dY>0||!isAtBottom&&dY<0){e.preventDefault();flushSync(()=>{onChange(d=>d+Math[method](dY,remainingScroll*sign));});}else if(/firefox/i.test(getUserAgent())){// Needed to propagate scrolling during momentum scrolling phase once\n// it gets limited by the boundary. UX improvement, not critical.\nel.scrollTop+=dY;}}const el=(scrollRef==null?void 0:scrollRef.current)||elements.floating;if(open&&el){el.addEventListener('wheel',onWheel);// Wait for the position to be ready.\nrequestAnimationFrame(()=>{prevScrollTopRef.current=el.scrollTop;if(overflowRef.current!=null){initialOverflowRef.current={...overflowRef.current};}});return()=>{prevScrollTopRef.current=null;initialOverflowRef.current=null;el.removeEventListener('wheel',onWheel);};}},[enabled,open,elements.floating,overflowRef,scrollRef,onChange]);return React.useMemo(()=>{if(!enabled){return{};}return{floating:{onKeyDown(){controlledScrollingRef.current=true;},onWheel(){controlledScrollingRef.current=false;},onPointerMove(){controlledScrollingRef.current=false;},onScroll(){const el=(scrollRef==null?void 0:scrollRef.current)||elements.floating;if(!overflowRef.current||!el||!controlledScrollingRef.current){return;}if(prevScrollTopRef.current!==null){const scrollDiff=el.scrollTop-prevScrollTopRef.current;if(overflowRef.current.bottom<-0.5&&scrollDiff<-1||overflowRef.current.top<-0.5&&scrollDiff>1){flushSync(()=>onChange(d=>d+scrollDiff));}}// [Firefox] Wait for the height change to have been applied.\nrequestAnimationFrame(()=>{prevScrollTopRef.current=el.scrollTop;});}}};},[enabled,overflowRef,elements.floating,scrollRef,onChange]);}function isPointInPolygon(point,polygon){const[x,y]=point;let isInside=false;const length=polygon.length;for(let i=0,j=length-1;i<length;j=i++){const[xi,yi]=polygon[i]||[0,0];const[xj,yj]=polygon[j]||[0,0];const intersect=yi>=y!==yj>=y&&x<=(xj-xi)*(y-yi)/(yj-yi)+xi;if(intersect){isInside=!isInside;}}return isInside;}function isInside(point,rect){return point[0]>=rect.x&&point[0]<=rect.x+rect.width&&point[1]>=rect.y&&point[1]<=rect.y+rect.height;}/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */function safePolygon(options){if(options===void 0){options={};}const{buffer=0.5,blockPointerEvents=false,requireIntent=true}=options;let timeoutId;let hasLanded=false;let lastX=null;let lastY=null;let lastCursorTime=performance.now();function getCursorSpeed(x,y){const currentTime=performance.now();const elapsedTime=currentTime-lastCursorTime;if(lastX===null||lastY===null||elapsedTime===0){lastX=x;lastY=y;lastCursorTime=currentTime;return null;}const deltaX=x-lastX;const deltaY=y-lastY;const distance=Math.sqrt(deltaX*deltaX+deltaY*deltaY);const speed=distance/elapsedTime;// px / ms\nlastX=x;lastY=y;lastCursorTime=currentTime;return speed;}const fn=_ref=>{let{x,y,placement,elements,onClose,nodeId,tree}=_ref;return function onMouseMove(event){function close(){clearTimeout(timeoutId);onClose();}clearTimeout(timeoutId);if(!elements.domReference||!elements.floating||placement==null||x==null||y==null){return;}const{clientX,clientY}=event;const clientPoint=[clientX,clientY];const target=getTarget(event);const isLeave=event.type==='mouseleave';const isOverFloatingEl=contains(elements.floating,target);const isOverReferenceEl=contains(elements.domReference,target);const refRect=elements.domReference.getBoundingClientRect();const rect=elements.floating.getBoundingClientRect();const side=placement.split('-')[0];const cursorLeaveFromRight=x>rect.right-rect.width/2;const cursorLeaveFromBottom=y>rect.bottom-rect.height/2;const isOverReferenceRect=isInside(clientPoint,refRect);const isFloatingWider=rect.width>refRect.width;const isFloatingTaller=rect.height>refRect.height;const left=(isFloatingWider?refRect:rect).left;const right=(isFloatingWider?refRect:rect).right;const top=(isFloatingTaller?refRect:rect).top;const bottom=(isFloatingTaller?refRect:rect).bottom;if(isOverFloatingEl){hasLanded=true;if(!isLeave){return;}}if(isOverReferenceEl){hasLanded=false;}if(isOverReferenceEl&&!isLeave){hasLanded=true;return;}// Prevent overlapping floating element from being stuck in an open-close\n// loop: https://github.com/floating-ui/floating-ui/issues/1910\nif(isLeave&&isElement(event.relatedTarget)&&contains(elements.floating,event.relatedTarget)){return;}// If any nested child is open, abort.\nif(tree&&getChildren(tree.nodesRef.current,nodeId).some(_ref2=>{let{context}=_ref2;return context==null?void 0:context.open;})){return;}// If the pointer is leaving from the opposite side, the \"buffer\" logic\n// creates a point where the floating element remains open, but should be\n// ignored.\n// A constant of 1 handles floating point rounding errors.\nif(side==='top'&&y>=refRect.bottom-1||side==='bottom'&&y<=refRect.top+1||side==='left'&&x>=refRect.right-1||side==='right'&&x<=refRect.left+1){return close();}// Ignore when the cursor is within the rectangular trough between the\n// two elements. Since the triangle is created from the cursor point,\n// which can start beyond the ref element's edge, traversing back and\n// forth from the ref to the floating element can cause it to close. This\n// ensures it always remains open in that case.\nlet rectPoly=[];switch(side){case'top':rectPoly=[[left,refRect.top+1],[left,rect.bottom-1],[right,rect.bottom-1],[right,refRect.top+1]];break;case'bottom':rectPoly=[[left,rect.top+1],[left,refRect.bottom-1],[right,refRect.bottom-1],[right,rect.top+1]];break;case'left':rectPoly=[[rect.right-1,bottom],[rect.right-1,top],[refRect.left+1,top],[refRect.left+1,bottom]];break;case'right':rectPoly=[[refRect.right-1,bottom],[refRect.right-1,top],[rect.left+1,top],[rect.left+1,bottom]];break;}function getPolygon(_ref3){let[x,y]=_ref3;switch(side){case'top':{const cursorPointOne=[isFloatingWider?x+buffer/2:cursorLeaveFromRight?x+buffer*4:x-buffer*4,y+buffer+1];const cursorPointTwo=[isFloatingWider?x-buffer/2:cursorLeaveFromRight?x+buffer*4:x-buffer*4,y+buffer+1];const commonPoints=[[rect.left,cursorLeaveFromRight?rect.bottom-buffer:isFloatingWider?rect.bottom-buffer:rect.top],[rect.right,cursorLeaveFromRight?isFloatingWider?rect.bottom-buffer:rect.top:rect.bottom-buffer]];return[cursorPointOne,cursorPointTwo,...commonPoints];}case'bottom':{const cursorPointOne=[isFloatingWider?x+buffer/2:cursorLeaveFromRight?x+buffer*4:x-buffer*4,y-buffer];const cursorPointTwo=[isFloatingWider?x-buffer/2:cursorLeaveFromRight?x+buffer*4:x-buffer*4,y-buffer];const commonPoints=[[rect.left,cursorLeaveFromRight?rect.top+buffer:isFloatingWider?rect.top+buffer:rect.bottom],[rect.right,cursorLeaveFromRight?isFloatingWider?rect.top+buffer:rect.bottom:rect.top+buffer]];return[cursorPointOne,cursorPointTwo,...commonPoints];}case'left':{const cursorPointOne=[x+buffer+1,isFloatingTaller?y+buffer/2:cursorLeaveFromBottom?y+buffer*4:y-buffer*4];const cursorPointTwo=[x+buffer+1,isFloatingTaller?y-buffer/2:cursorLeaveFromBottom?y+buffer*4:y-buffer*4];const commonPoints=[[cursorLeaveFromBottom?rect.right-buffer:isFloatingTaller?rect.right-buffer:rect.left,rect.top],[cursorLeaveFromBottom?isFloatingTaller?rect.right-buffer:rect.left:rect.right-buffer,rect.bottom]];return[...commonPoints,cursorPointOne,cursorPointTwo];}case'right':{const cursorPointOne=[x-buffer,isFloatingTaller?y+buffer/2:cursorLeaveFromBottom?y+buffer*4:y-buffer*4];const cursorPointTwo=[x-buffer,isFloatingTaller?y-buffer/2:cursorLeaveFromBottom?y+buffer*4:y-buffer*4];const commonPoints=[[cursorLeaveFromBottom?rect.left+buffer:isFloatingTaller?rect.left+buffer:rect.right,rect.top],[cursorLeaveFromBottom?isFloatingTaller?rect.left+buffer:rect.right:rect.left+buffer,rect.bottom]];return[cursorPointOne,cursorPointTwo,...commonPoints];}}}if(isPointInPolygon([clientX,clientY],rectPoly)){return;}if(hasLanded&&!isOverReferenceRect){return close();}if(!isLeave&&requireIntent){const cursorSpeed=getCursorSpeed(event.clientX,event.clientY);const cursorSpeedThreshold=0.1;if(cursorSpeed!==null&&cursorSpeed<cursorSpeedThreshold){return close();}}if(!isPointInPolygon([clientX,clientY],getPolygon([x,y]))){close();}else if(!hasLanded&&requireIntent){timeoutId=window.setTimeout(close,40);}};};fn.__options={blockPointerEvents};return fn;}export{Composite,CompositeItem,FloatingArrow,FloatingDelayGroup,FloatingFocusManager,FloatingList,FloatingNode,FloatingOverlay,FloatingPortal,FloatingTree,inner,safePolygon,useClick,useClientPoint,useDelayGroup,useDelayGroupContext,useDismiss,useFloating,useFloatingNodeId,useFloatingParentNodeId,useFloatingPortalNode,useFloatingTree,useFocus,useHover,useId,useInnerOffset,useInteractions,useListItem,useListNavigation,useMergeRefs,useRole,useTransitionStatus,useTransitionStyles,useTypeahead};","map":{"version":3,"names":["React","useLayoutEffect","useEffect","useRef","stopEvent","getDocument","isMouseLikePointerType","contains","activeElement","isSafari","isTypeableCombobox","isVirtualClick","isVirtualPointerEvent","getTarget","getPlatform","isTypeableElement","isReactEvent","isRootElement","isEventTargetWithin","isMac","getUserAgent","floor","platform","getOverflowAncestors","useFloating","useFloating$1","offset","detectOverflow","arrow","autoPlacement","autoUpdate","computePosition","flip","hide","inline","limitShift","shift","size","isElement","isHTMLElement","getNodeName","getWindow","isLastTraversableNode","getParentNode","getComputedStyle","tabbable","createPortal","flushSync","useMergeRefs","refs","useMemo","every","ref","value","forEach","current","useInsertionEffect","toString","useSafeInsertionEffect","fn","useEffectEvent","callback","process","env","NODE_ENV","Error","useCallback","_len","arguments","length","args","Array","_key","ARROW_UP","ARROW_DOWN","ARROW_LEFT","ARROW_RIGHT","isDifferentRow","index","cols","prevRow","Math","isIndexOutOfBounds","listRef","getMinIndex","disabledIndices","findNonDisabledIndex","getMaxIndex","decrement","startingIndex","_temp","amount","list","isDisabledIndex","includes","element","hasAttribute","getAttribute","getGridNavigatedIndex","elementsRef","_ref","event","orientation","loop","minIndex","maxIndex","prevIndex","stop","nextIndex","key","col","maxCol","lastRow","buildCellMap","sizes","dense","cellMap","startIndex","_ref2","width","height","itemPlaced","targetCells","i","j","push","cell","getCellIndexOfCorner","corner","firstCellIndex","indexOf","lastIndexOf","getCellIndices","indices","flatMap","cellIndex","rafId","enqueueFocus","el","options","preventScroll","cancelPrevious","sync","cancelAnimationFrame","exec","focus","requestAnimationFrame","document","sortByDocumentPosition","a","b","position","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","areMapsEqual","map1","map2","entries","get","FloatingListContext","createContext","register","unregister","map","Map","FloatingList","children","labelsRef","setMap","useState","node","prevMap","set","delete","newMap","nodes","from","keys","sort","createElement","Provider","useListItem","label","index$1","setIndex","componentRef","useContext","_node$textContent","isLabelDefined","undefined","textContent","renderJsx","render","computedProps","cloneElement","CompositeContext","activeIndex","onNavigate","horizontalKeys","verticalKeys","allKeys","Composite","forwardRef","forwardedRef","externalActiveIndex","externalSetActiveIndex","itemSizes","props","internalActiveIndex","internalSetActiveIndex","renderElementProps","contextValue","isGrid","handleKeyDown","minGridIndex","findIndex","maxGridIndex","reduce","foundIndex","itemIndex","toEndKeys","horizontal","vertical","both","toStartKeys","preventedKeys","stopPropagation","preventDefault","queueMicrotask","onKeyDown","e","CompositeItem","mergedRef","isActive","tabIndex","onFocus","_extends","Object","assign","bind","target","source","prototype","hasOwnProperty","call","apply","serverHandoffComplete","count","genId","useFloatingId","id","setId","useReactId","useId","FloatingArrow","context","placement","elements","floating","middlewareData","tipRadius","strokeWidth","staticOffset","stroke","d","style","transform","restStyle","rest","console","warn","clipPathId","halfStrokeWidth","svgX","svgY","side","alignment","split","isRTL","isCustomShape","isVerticalSide","yOffsetProp","xOffsetProp","arrowX","x","arrowY","y","dValue","rotation","top","left","bottom","right","viewBox","pointerEvents","clipPath","fill","createPubSub","emit","data","_map$get","handler","on","listener","off","_map$get2","filter","l","FloatingNodeContext","FloatingTreeContext","useFloatingParentNodeId","_React$useContext","useFloatingTree","useFloatingNodeId","customParentId","tree","reactParentId","parentId","addNode","removeNode","FloatingNode","FloatingTree","nodesRef","n","events","createAttribute","name","useLatestRef","safePolygonIdentifier","getDelay","prop","pointerType","useHover","open","onOpenChange","dataRef","domReference","enabled","delay","handleClose","mouseOnly","restMs","move","handleCloseRef","delayRef","pointerTypeRef","timeoutRef","handlerRef","restTimeoutRef","blockMouseMoveRef","performedPointerEventsMutationRef","unbindMouseMoveRef","isHoverOpen","_dataRef$current$open","type","openEvent","clearTimeout","onLeave","html","documentElement","addEventListener","removeEventListener","closeWithDelay","runElseBranch","reason","closeDelay","setTimeout","cleanupMouseMoveHandler","clearPointerEvents","body","removeAttribute","isClickLikeOpenEvent","onMouseEnter","openDelay","onMouseLeave","doc","clientX","clientY","onClose","shouldClose","relatedTarget","onScrollMouseLeave","once","_handleCloseRef$curre","__options","blockPointerEvents","setAttribute","_tree$nodesRef$curren","parentFloating","find","setPointerRef","reference","onPointerDown","onPointerEnter","onMouseMove","nativeEvent","FloatingDelayGroupContext","initialDelay","timeoutMs","currentId","setCurrentId","setState","isInstantPhase","useDelayGroupContext","FloatingDelayGroup","state","useReducer","prev","next","initialCurrentIdRef","useDelayGroup","_ref3","close","unset","timeout","window","getAncestors","_nodes$find","allAncestors","currentParentId","currentNode","concat","getChildren","allChildren","_node$context","currentChildren","_currentChildren","some","_node$context2","getDeepestNode","deepestNodeId","maxDepth","findDeepest","nodeId","depth","child","counterMap","WeakMap","uncontrolledElementsSet","WeakSet","markerMap","lockCount","supportsInert","HTMLElement","unwrapHost","host","parentNode","correctElements","parent","targets","correctedTarget","applyAttributeToOthers","uncorrectedAvoidElements","ariaHidden","inert","markerName","controlAttribute","avoidElements","elementsToKeep","Set","elementsToStop","hiddenElements","markerCounter","keep","deep","clear","has","add","attr","alreadyHidden","counterValue","markerValue","markOthers","querySelectorAll","getTabbableOptions","getShadowRoot","displayCheck","ResizeObserver","getTabbableIn","container","direction","allTabbable","reverse","nextTabbableElements","slice","getNextTabbable","getPreviousTabbable","isOutsideEvent","containerElement","currentTarget","disableFocusInside","tabbableElements","dataset","tabindex","enableFocusInside","HIDDEN_STYLES","border","clip","margin","overflow","padding","whiteSpace","timeoutId","setActiveElementOnTab","FocusGuard","role","setRole","restProps","PortalContext","useFloatingPortalNode","root","portalNode","setPortalNode","uniqueId","portalContext","usePortalContext","portalNodeRef","remove","existingIdRoot","getElementById","subRoot","appendChild","idWrapper","FloatingPortal","preserveTabOrder","focusManagerState","setFocusManagerState","beforeOutsideRef","afterOutsideRef","beforeInsideRef","afterInsideRef","shouldRenderGuards","modal","focusing","manageFocus","_beforeInsideRef$curr","prevTabbable","_afterInsideRef$curre","nextTabbable","closeOnFocusOut","LIST_LIMIT","previouslyFocusedElements","addPreviouslyFocusedElement","isConnected","getPreviouslyFocusedElement","VisuallyHiddenDismiss","FloatingFocusManager","disabled","order","guards","_guards","initialFocus","returnFocus","visuallyHiddenDismiss","ignoreInitialFocus","isUntrappedTypeableCombobox","orderRef","initialFocusRef","returnFocusRef","startDismissButtonRef","endDismissButtonRef","preventReturnFocusRef","isPointerDownRef","isInsidePortal","getTabbableContent","getTabbableElements","content","Boolean","flat","els","shiftKey","handlePointerDown","handleFocusOutside","movedToUnrelatedNode","_node$context3","_node$context4","_portalContext$portal","portalNodes","insideElements","cleanup","previouslyFocusedElement","focusableElements","initialFocusValue","elToFocus","focusAlreadyInsideFloatingEl","preventReturnFocusScroll","contextData","nested","activeEl","isFocusInsideFloatingTree","_node$context5","shouldFocusReference","returnElement","MutationObserver","handleMutation","observer","observe","childList","subtree","attributes","disconnect","renderDismissButton","location","onClick","Fragment","_portalContext$before","_portalContext$afterO","activeLocks","FloatingOverlay","lockScroll","lockId","isIOS","test","bodyStyle","scrollbarX","round","getBoundingClientRect","scrollLeft","paddingProp","scrollbarWidth","innerWidth","clientWidth","scrollX","parseFloat","pageXOffset","scrollY","pageYOffset","_window$visualViewpor","_window$visualViewpor2","offsetLeft","visualViewport","offsetTop","scrollTo","isButtonTarget","tagName","isSpaceIgnored","useClick","eventOption","toggle","ignoreMouse","keyboardHandlers","didKeyDownRef","onMouseDown","button","defaultPrevented","onKeyUp","createVirtualElement","domRef","offsetX","offsetY","isAutoUpdateEvent","contextElement","_domRef$current","_data$dataRef$current","domRect","isXAxis","axis","isYAxis","canTrackCursorOnAutoUpdate","isMouseBasedEvent","useClientPoint","initialRef","cleanupListenerRef","setPointerType","reactive","setReactive","setReference","setPositionReference","handleReferenceEnterOrMove","openCheck","addListener","win","handleMouseMove","setPointerTypeRef","bubbleHandlerKeys","pointerdown","mousedown","click","captureHandlerKeys","normalizeProp","normalizable","_normalizable$escapeK","_normalizable$outside","escapeKey","outsidePress","useDismiss","unstable_outsidePress","outsidePressEvent","referencePress","referencePressEvent","ancestorScroll","bubbles","capture","outsidePressFn","insideReactTreeRef","endedOrStartedInsideRef","escapeKeyBubbles","outsidePressBubbles","escapeKeyCapture","outsidePressCapture","closeOnEscapeKeyDown","shouldDismiss","_child$context","__escapeKeyBubbles","closeOnEscapeKeyDownCapture","_getTarget2","_getTarget","closeOnPressOutside","insideReactTree","endedOrStartedInside","inertSelector","markers","targetRootAncestor","nextParent","marker","canScrollX","scrollWidth","canScrollY","clientHeight","scrollHeight","xCond","offsetWidth","targetIsInsideChildren","_child$context2","__outsidePressBubbles","closeOnPressOutsideCapture","_getTarget4","_getTarget3","onScroll","ancestors","ancestor","_doc$defaultView","defaultView","passive","onMouseUp","devMessageSet","_options$elements2","unstable_onOpenChange","_options$elements","err","_devMessageSet","_devMessageSet2","error","_domReference","setDomReference","domReferenceRef","floatingId","positionReference","useFocus","visibleOnly","blockFocusRef","keyboardModalityRef","onBlur","matches","movedToFocusGuard","ownerDocument","ACTIVE_KEY","SELECTED_KEY","mergeProps","userProps","propsList","elementKey","isItem","domUserProps","_","__","validProps","propsOrGetProps","acc","val","useInteractions","deps","getReferenceProps","getFloatingProps","getItemProps","item","isPreventScrollSupported","doSwitch","isMainOrientationKey","isMainOrientationToEndKey","rtl","isCrossOrientationOpenKey","isCrossOrientationCloseKey","useListNavigation","unstable_onNavigate","selectedIndex","allowEscape","virtual","focusItemOnOpen","focusItemOnHover","openOnArrowKeyDown","scrollItemIntoView","virtualItemRef","join","focusItemOnOpenRef","indexRef","keyRef","isPointerModalityRef","previousOnNavigateRef","previousMountedRef","forceSyncFocus","forceScrollIntoViewRef","disabledIndicesRef","latestOpenRef","scrollItemIntoViewRef","activeId","setActiveId","virtualId","setVirtualId","focusItem","forceScrollIntoView","scrollIntoViewOptions","shouldScrollIntoView","scrollIntoView","block","runs","waitForListPopulated","scheduler","treeContainsActiveEl","handleVirtualFocus","hasActiveIndex","syncCurrentTarget","onPointerLeave","_ref4","currentIndex","min","max","checkVirtualMouse","checkVirtualPointer","ariaActiveDescendantProp","activeItem","isArrowKey","isCrossOpenKey","isCrossCloseKey","isMainKey","isNavigationKey","trim","rootNode","deepestNode","eventObject","KeyboardEvent","_deepestNode$context","_deepestNode$context2","isCurrentTarget","dispatchItem","dispatchEvent","_deepestNode$context$","onPointerMove","componentRoleToAriaRoleMap","useRole","_componentRoleToAriaR","ariaRole","referenceId","isNested","floatingProps","active","selected","commonProps","camelCaseToKebabCase","str","replace","$","ofs","toLowerCase","execWithArgsOrReturn","valueOrFn","useDelayUnmount","durationMs","isMounted","setIsMounted","useTransitionStatus","duration","isNumberDuration","closeDuration","initiated","setInitiated","status","setStatus","frame","useTransitionStyles","initial","unstable_initial","opacity","unstable_open","unstable_close","common","unstable_common","fnArgs","openDuration","styles","setStyles","openRef","closeRef","commonRef","initialStyles","closeStyles","commonStyles","openStyles","transitionProperty","transitionDuration","useTypeahead","onMatch","unstable_onMatch","onTypingChange","unstable_onTypingChange","findMatch","resetMs","ignoreKeys","timeoutIdRef","stringRef","prevIndexRef","matchIndexRef","findMatchRef","ignoreKeysRef","setTypingChange","typing","getMatchingIndex","orderedList","string","text","toLocaleLowerCase","listContent","ctrlKey","metaKey","altKey","allowRapidSuccessionOfFirstLetter","_text$","_text$2","getArgsWithCustomFloatingHeight","rects","inner","overflowRef","onFallbackChange","innerOffset","minItemsVisible","referenceOverflowThreshold","scrollRef","detectOverflowOptions","startsWith","nextArgs","clientTop","offsetHeight","refOverflow","elementContext","diffY","nextY","maxHeight","scrollTop","useInnerOffset","onChange","unstable_onChange","controlledScrollingRef","prevScrollTopRef","initialOverflowRef","onWheel","dY","deltaY","isAtTop","isAtBottom","remainingScroll","sign","method","scrollDiff","isPointInPolygon","point","polygon","isInside","xi","yi","xj","yj","intersect","rect","safePolygon","buffer","requireIntent","hasLanded","lastX","lastY","lastCursorTime","performance","now","getCursorSpeed","currentTime","elapsedTime","deltaX","distance","sqrt","speed","clientPoint","isLeave","isOverFloatingEl","isOverReferenceEl","refRect","cursorLeaveFromRight","cursorLeaveFromBottom","isOverReferenceRect","isFloatingWider","isFloatingTaller","rectPoly","getPolygon","cursorPointOne","cursorPointTwo","commonPoints","cursorSpeed","cursorSpeedThreshold"],"sources":["/Users/mikejabrhamdan/grides-react-app/src/node_modules/@floating-ui/react/dist/floating-ui.react.esm.js"],"sourcesContent":["import * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { stopEvent, getDocument, isMouseLikePointerType, contains, activeElement, isSafari, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, getTarget, getPlatform, isTypeableElement, isReactEvent, isRootElement, isEventTargetWithin, isMac, getUserAgent } from '@floating-ui/react/utils';\nimport { floor } from '@floating-ui/utils';\nimport { platform, getOverflowAncestors, useFloating as useFloating$1, offset, detectOverflow } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\nimport { isElement, isHTMLElement, getNodeName, getWindow, isLastTraversableNode, getParentNode, getComputedStyle } from '@floating-ui/utils/dom';\nimport { tabbable } from 'tabbable';\nimport { createPortal, flushSync } from 'react-dom';\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */\nfunction useMergeRefs(refs) {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n  }, refs);\n}\n\n// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect = React[/*#__PURE__*/'useInsertionEffect'.toString()];\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEffectEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  const isDisabledIndex = disabledIndices ? index => disabledIndices.includes(index) : index => {\n    const element = list[index];\n    return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n  };\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= list.length - 1 && isDisabledIndex(index));\n  return index;\n}\nfunction getGridNavigatedIndex(elementsRef, _ref) {\n  let {\n    event,\n    orientation,\n    loop,\n    cols,\n    disabledIndices,\n    minIndex,\n    maxIndex,\n    prevIndex,\n    stopEvent: stop = false\n  } = _ref;\n  let nextIndex = prevIndex;\n  if (event.key === ARROW_UP) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = maxIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: nextIndex,\n        amount: cols,\n        decrement: true,\n        disabledIndices\n      });\n      if (loop && (prevIndex - cols < minIndex || nextIndex < 0)) {\n        const col = prevIndex % cols;\n        const maxCol = maxIndex % cols;\n        const offset = maxIndex - (maxCol - col);\n        if (maxCol === col) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = maxCol > col ? offset : offset - cols;\n        }\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = minIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: prevIndex,\n        amount: cols,\n        disabledIndices\n      });\n      if (loop && prevIndex + cols > maxIndex) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex % cols - cols,\n          amount: cols,\n          disabledIndices\n        });\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === ARROW_RIGHT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === ARROW_LEFT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices,\n          decrement: true\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      if (loop && lastRow) {\n        nextIndex = event.key === ARROW_LEFT ? maxIndex : findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nfunction buildCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach((_ref2, index) => {\n    let {\n      width,\n      height\n    } = _ref2;\n    if (width > cols) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\"[Floating UI]: Invalid grid - item width at index \" + index + \" is greater than grid columns\");\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex++;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nfunction getCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) return -1;\n  const firstCellIndex = cellMap.indexOf(index);\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      return firstCellIndex + sizes[index].width - 1;\n    case 'bl':\n      return firstCellIndex + (sizes[index].height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nfunction getCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\n/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */\nfunction FloatingList(_ref) {\n  let {\n    children,\n    elementsRef,\n    labelsRef\n  } = _ref;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: React.useMemo(() => ({\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }), [register, unregister, map, elementsRef, labelsRef])\n  }, children);\n}\n/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */\nfunction useListItem(_temp) {\n  let {\n    label\n  } = _temp === void 0 ? {} : _temp;\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (node) {\n      register(node);\n      return () => {\n        unregister(node);\n      };\n    }\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nfunction renderJsx(render, computedProps) {\n  if (typeof render === 'function') {\n    return render(computedProps);\n  }\n  if (render) {\n    return /*#__PURE__*/React.cloneElement(render, computedProps);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", computedProps);\n}\nconst CompositeContext = /*#__PURE__*/React.createContext({\n  activeIndex: 0,\n  onNavigate: () => {}\n});\nconst horizontalKeys = [ARROW_LEFT, ARROW_RIGHT];\nconst verticalKeys = [ARROW_UP, ARROW_DOWN];\nconst allKeys = [...horizontalKeys, ...verticalKeys];\n\n/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that aren’t part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */\nconst Composite = /*#__PURE__*/React.forwardRef(function Composite(_ref, forwardedRef) {\n  let {\n    render,\n    orientation = 'both',\n    loop = true,\n    cols = 1,\n    disabledIndices = [],\n    activeIndex: externalActiveIndex,\n    onNavigate: externalSetActiveIndex,\n    itemSizes,\n    dense = false,\n    ...props\n  } = _ref;\n  const [internalActiveIndex, internalSetActiveIndex] = React.useState(0);\n  const activeIndex = externalActiveIndex != null ? externalActiveIndex : internalActiveIndex;\n  const onNavigate = useEffectEvent(externalSetActiveIndex != null ? externalSetActiveIndex : internalSetActiveIndex);\n  const elementsRef = React.useRef([]);\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const contextValue = React.useMemo(() => ({\n    activeIndex,\n    onNavigate\n  }), [activeIndex, onNavigate]);\n  const isGrid = cols > 1;\n  function handleKeyDown(event) {\n    if (!allKeys.includes(event.key)) return;\n    let nextIndex = activeIndex;\n    if (isGrid) {\n      const sizes = itemSizes || Array.from({\n        length: elementsRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !disabledIndices.includes(index));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n      nextIndex = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...disabledIndices, undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(activeIndex, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction we're\n        // moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl')\n      })]; // navigated cell will never be nullish\n    }\n    const minIndex = getMinIndex(elementsRef, disabledIndices);\n    const maxIndex = getMaxIndex(elementsRef, disabledIndices);\n    const toEndKeys = {\n      horizontal: [ARROW_RIGHT],\n      vertical: [ARROW_DOWN],\n      both: [ARROW_RIGHT, ARROW_DOWN]\n    }[orientation];\n    const toStartKeys = {\n      horizontal: [ARROW_LEFT],\n      vertical: [ARROW_UP],\n      both: [ARROW_LEFT, ARROW_UP]\n    }[orientation];\n    const preventedKeys = isGrid ? allKeys : {\n      horizontal: horizontalKeys,\n      vertical: verticalKeys,\n      both: allKeys\n    }[orientation];\n    if (nextIndex === activeIndex && [...toEndKeys, ...toStartKeys].includes(event.key)) {\n      if (loop && nextIndex === maxIndex && toEndKeys.includes(event.key)) {\n        nextIndex = minIndex;\n      } else if (loop && nextIndex === minIndex && toStartKeys.includes(event.key)) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: nextIndex,\n          decrement: toStartKeys.includes(event.key),\n          disabledIndices\n        });\n      }\n    }\n    if (nextIndex !== activeIndex && !isIndexOutOfBounds(elementsRef, nextIndex)) {\n      event.stopPropagation();\n      if (preventedKeys.includes(event.key)) {\n        event.preventDefault();\n      }\n      onNavigate(nextIndex);\n\n      // Wait for FocusManager `returnFocus` to execute.\n      queueMicrotask(() => {\n        enqueueFocus(elementsRef.current[nextIndex]);\n      });\n    }\n  }\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: forwardedRef,\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    onKeyDown(e) {\n      props.onKeyDown == null || props.onKeyDown(e);\n      renderElementProps.onKeyDown == null || renderElementProps.onKeyDown(e);\n      handleKeyDown(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(CompositeContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(FloatingList, {\n    elementsRef: elementsRef\n  }, renderJsx(render, computedProps)));\n});\n/**\n * @see https://floating-ui.com/docs/Composite\n */\nconst CompositeItem = /*#__PURE__*/React.forwardRef(function CompositeItem(_ref2, forwardedRef) {\n  let {\n    render,\n    ...props\n  } = _ref2;\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const {\n    activeIndex,\n    onNavigate\n  } = React.useContext(CompositeContext);\n  const {\n    ref,\n    index\n  } = useListItem();\n  const mergedRef = useMergeRefs([ref, forwardedRef, renderElementProps.ref]);\n  const isActive = activeIndex === index;\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: mergedRef,\n    tabIndex: isActive ? 0 : -1,\n    'data-active': isActive ? '' : undefined,\n    onFocus(e) {\n      props.onFocus == null || props.onFocus(e);\n      renderElementProps.onFocus == null || renderElementProps.onFocus(e);\n      onNavigate(index);\n    }\n  };\n  return renderJsx(render, computedProps);\n});\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => \"floating-ui-\" + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  React.useEffect(() => {\n    if (!serverHandoffComplete) {\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n}\n\n// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId = React[/*#__PURE__*/'useId'.toString()];\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */\nconst useId = useReactId || useFloatingId;\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(_ref, ref) {\n  let {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    style: {\n      transform,\n      ...restStyle\n    } = {},\n    ...rest\n  } = _ref;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`', 'component.');\n    }\n  }\n  const clipPathId = useId();\n  if (!floating) {\n    return null;\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  strokeWidth *= 2;\n  const halfStrokeWidth = strokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const [side, alignment] = placement.split('-');\n  const isRTL = platform.isRTL(floating);\n  const isCustomShape = !!d;\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  const yOffsetProp = staticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = staticOffset && alignment === 'end' ? 'right' : 'left';\n  if (staticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? staticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? staticOffset || arrow.y : '';\n  const dValue = d ||\n  // biome-ignore lint/style/useTemplate: readability\n  'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + strokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + strokeWidth / 2 + \"px)\",\n      transform: \"\" + rotation + (transform != null ? transform : ''),\n      ...restStyle\n    }\n  }), strokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: strokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: strokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + strokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null || tree.addNode(node);\n    return () => {\n      tree == null || tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingNode(_ref) {\n  let {\n    children,\n    id\n  } = _ref;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n}\n\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingTree(_ref2) {\n  let {\n    children\n  } = _ref2;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events])\n  }, children);\n}\n\nfunction createAttribute(name) {\n  return \"data-floating-ui-\" + name;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = /*#__PURE__*/createAttribute('safe-polygon');\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nfunction useHover(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements: {\n      domReference,\n      floating\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef();\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        open\n      } = _ref;\n      if (!open) {\n        clearTimeout(timeoutRef.current);\n        clearTimeout(restTimeoutRef.current);\n        blockMouseMoveRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled || !handleCloseRef.current || !open) {\n      return;\n    }\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, event, 'hover');\n      }\n    }\n    const html = getDocument(floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (event, runElseBranch, reason) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    if (reason === void 0) {\n      reason = 'hover';\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onOpenChange(false, event, reason), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false, event, reason);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = React.useCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  }, []);\n  const clearPointerEvents = React.useCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(refs.floating.current).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  }, [refs]);\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function isClickLikeOpenEvent() {\n      return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n    }\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && getDelay(delayRef.current, 'open') === 0) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = setTimeout(() => {\n          onOpenChange(true, event, 'hover');\n        }, openDelay);\n      } else {\n        onOpenChange(true, event, 'hover');\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floating);\n      clearTimeout(restTimeoutRef.current);\n      if (handleCloseRef.current) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...context,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            closeWithDelay(event, true, 'safe-polygon');\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      handleCloseRef.current == null || handleCloseRef.current({\n        ...context,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          closeWithDelay(event);\n        }\n      })(event);\n    }\n    if (isElement(domReference)) {\n      const ref = domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      floating == null || floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating == null || floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [domReference, floating, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, tree, delayRef, handleCloseRef, dataRef]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) {\n      return;\n    }\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      const body = getDocument(floating).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      body.style.pointerEvents = 'none';\n      performedPointerEventsMutationRef.current = true;\n      if (isElement(domReference) && floating) {\n        var _tree$nodesRef$curren;\n        const ref = domReference;\n        const parentFloating = tree == null || (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null || (_tree$nodesRef$curren = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        ref.style.pointerEvents = 'auto';\n        floating.style.pointerEvents = 'auto';\n        return () => {\n          ref.style.pointerEvents = '';\n          floating.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, floating, domReference, tree, handleCloseRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, domReference, cleanupMouseMoveHandler, clearPointerEvents]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerRef,\n        onPointerEnter: setPointerRef,\n        onMouseMove(event) {\n          if (open || restMs === 0) {\n            return;\n          }\n          clearTimeout(restTimeoutRef.current);\n          restTimeoutRef.current = setTimeout(() => {\n            if (!blockMouseMoveRef.current) {\n              onOpenChange(true, event.nativeEvent, 'hover');\n            }\n          }, restMs);\n        }\n      },\n      floating: {\n        onMouseEnter() {\n          clearTimeout(timeoutRef.current);\n        },\n        onMouseLeave(event) {\n          closeWithDelay(event.nativeEvent, false);\n        }\n      }\n    };\n  }, [enabled, restMs, open, onOpenChange, closeWithDelay]);\n}\n\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: () => {},\n  setState: () => {},\n  isInstantPhase: false\n});\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst FloatingDelayGroup = _ref => {\n  let {\n    children,\n    delay,\n    timeoutMs = 0\n  } = _ref;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      setState({\n        isInstantPhase: false\n      });\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setCurrentId])\n  }, children);\n};\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst useDelayGroup = (_ref2, _ref3) => {\n  let {\n    open,\n    onOpenChange\n  } = _ref2;\n  let {\n    id\n  } = _ref3;\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = useDelayGroupContext();\n  index(() => {\n    if (currentId) {\n      setState({\n        delay: {\n          open: 1,\n          close: getDelay(initialDelay, 'close')\n        }\n      });\n      if (currentId !== id) {\n        onOpenChange(false);\n      }\n    }\n  }, [id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      }\n      unset();\n    }\n  }, [open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (open) {\n      setCurrentId(id);\n    }\n  }, [open, setCurrentId, id]);\n};\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\nfunction getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\n\n// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap = /*#__PURE__*/new WeakMap();\nlet uncontrolledElementsSet = /*#__PURE__*/new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nconst supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-floating-ui-inert';\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    el.parentNode && keep(el.parentNode);\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, node => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, 'true');\n        }\n      }\n    });\n  }\n  lockCount++;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterValue = (counterMap.get(element) || 0) - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nfunction markOthers(avoidElements, ariaHidden, inert) {\n  if (ariaHidden === void 0) {\n    ariaHidden = false;\n  }\n  if (inert === void 0) {\n    inert = false;\n  }\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    // biome-ignore lint/performance/noDelete: purity\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  const restProps = {\n    ref,\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role,\n    'aria-hidden': role ? undefined : true,\n    [createAttribute('focus-guard')]: '',\n    style: HIDDEN_STYLES\n  };\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, restProps));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst attr = /*#__PURE__*/createAttribute('portal');\n\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nfunction useFloatingPortalNode(_temp) {\n  let {\n    id,\n    root\n  } = _temp === void 0 ? {} : _temp;\n  const [portalNode, setPortalNode] = React.useState(null);\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const portalNodeRef = React.useRef(null);\n  index(() => {\n    return () => {\n      portalNode == null || portalNode.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) return;\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    let container = root || (portalContext == null ? void 0 : portalContext.portalNode);\n    if (container && !isElement(container)) container = container.current;\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nfunction FloatingPortal(_ref) {\n  let {\n    children,\n    id,\n    root = null,\n    preserveTabOrder = true\n  } = _ref;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || focusManagerState != null && focusManagerState.modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, focusManagerState == null ? void 0 : focusManagerState.modal]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null || _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null || prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null || _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null || nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false, event.nativeEvent));\n      }\n    }\n  }));\n}\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction addPreviouslyFocusedElement(element) {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  return previouslyFocusedElements.slice().reverse().find(el => el.isConnected);\n}\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    guards: _guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = props;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n\n  // Force the guards to be rendered if the `inert` attribute is not supported.\n  const guards = supportsInert() ? _guards : true;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const isInsidePortal = portalContext != null;\n  const getTabbableContent = React.useCallback(function (container) {\n    if (container === void 0) {\n      container = floating;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  }, [floating]);\n  const getTabbableElements = React.useCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floating && type === 'floating') {\n        return floating;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  }, [domReference, floating, orderRef, getTabbableContent]);\n  React.useEffect(() => {\n    if (disabled || !modal) return;\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floating, activeElement(getDocument(floating))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floating && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floating);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floating, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled || !closeOnFocusOut) return;\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute(createAttribute('focus-guard')) || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if (relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== getPreviouslyFocusedElement()) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, event);\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      !modal && floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        !modal && floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [disabled, domReference, floating, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    if (disabled) return;\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null || (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll(\"[\" + createAttribute('portal') + \"]\")) || []);\n    if (floating) {\n      const insideElements = [floating, ...portalNodes, startDismissButtonRef.current, endDismissButtonRef.current, orderRef.current.includes('reference') || isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n      const cleanup = modal || isUntrappedTypeableCombobox ? markOthers(insideElements, guards, !guards) : markOthers(insideElements);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, guards]);\n  index(() => {\n    if (disabled || !floating) return;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floating);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floating;\n      const focusAlreadyInsideFloatingEl = contains(floating, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floating\n        });\n      }\n    });\n  }, [disabled, open, floating, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (disabled || !floating) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChange(_ref) {\n      let {\n        reason,\n        event,\n        nested\n      } = _ref;\n      if (reason === 'escape-key' && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      if (reason === 'hover' && event.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (reason !== 'outside-press') return;\n      if (nested) {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = true;\n      } else {\n        preventReturnFocusRef.current = !(isVirtualClick(event) || isVirtualPointerEvent(event));\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      });\n      const shouldFocusReference = isFocusInsideFloatingTree || contextData.openEvent && ['click', 'mousedown'].includes(contextData.openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      const returnElement = getPreviouslyFocusedElement();\n      if (returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(returnElement) && (\n      // If the focus moved somewhere else after mount, avoid returning focus\n      // since it likely entered a different element which should be\n      // respected: https://github.com/floating-ui/floating-ui/issues/2607\n      returnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n        enqueueFocus(returnElement, {\n          // When dismissing nested floating elements, by the time the rAF has\n          // executed, the menus will all have been unmounted. When they try\n          // to get focused, the calls get ignored — leaving the root\n          // reference focused as desired.\n          cancelPrevious: false,\n          preventScroll: preventReturnFocusScroll\n        });\n      }\n    };\n  }, [disabled, floating, returnFocusRef, dataRef, refs, events, tree, nodeId]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (disabled || !portalContext) return;\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      refs\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, refs, closeOnFocusOut]);\n  index(() => {\n    if (disabled || !floating || typeof MutationObserver !== 'function' || ignoreInitialFocus) {\n      return;\n    }\n    const handleMutation = () => {\n      const tabIndex = floating.getAttribute('tabindex');\n      if (orderRef.current.includes('floating') || activeElement(getDocument(floating)) !== refs.domReference.current && getTabbableContent().length === 0) {\n        if (tabIndex !== '0') {\n          floating.setAttribute('tabindex', '0');\n        }\n      } else if (tabIndex !== '-1') {\n        floating.setAttribute('tabindex', '-1');\n      }\n    };\n    handleMutation();\n    const observer = new MutationObserver(handleMutation);\n    observer.observe(floating, {\n      childList: true,\n      subtree: true,\n      attributes: true\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [disabled, floating, refs, orderRef, getTabbableContent, ignoreInitialFocus]);\n  function renderDismissButton(location) {\n    if (disabled || !visuallyHiddenDismiss || !modal) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: event => onOpenChange(false, event.nativeEvent)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss');\n  }\n  const shouldRenderGuards = !disabled && guards && (isInsidePortal || modal);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null || nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null || _portalContext$before.focus();\n        }\n      }\n    }\n  }), !isUntrappedTypeableCombobox && renderDismissButton('start'), children, renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null || prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null || _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nconst activeLocks = /*#__PURE__*/new Set();\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref, ref) {\n  let {\n    lockScroll = false,\n    ...rest\n  } = _ref;\n  const lockId = useId();\n  index(() => {\n    if (!lockScroll) return;\n    activeLocks.add(lockId);\n    const isIOS = /iP(hone|ad|od)|iOS/.test(getPlatform());\n    const bodyStyle = document.body.style;\n    // RTL <body> scrollbar\n    const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n    const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    const scrollX = bodyStyle.left ? parseFloat(bodyStyle.left) : window.pageXOffset;\n    const scrollY = bodyStyle.top ? parseFloat(bodyStyle.top) : window.pageYOffset;\n    bodyStyle.overflow = 'hidden';\n    if (scrollbarWidth) {\n      bodyStyle[paddingProp] = scrollbarWidth + \"px\";\n    }\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n    // technique has fewer side effects.\n    if (isIOS) {\n      var _window$visualViewpor, _window$visualViewpor2;\n      // iOS 12 does not support `visualViewport`.\n      const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n      const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n      Object.assign(bodyStyle, {\n        position: 'fixed',\n        top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n        left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n        right: '0'\n      });\n    }\n    return () => {\n      activeLocks.delete(lockId);\n      if (activeLocks.size === 0) {\n        Object.assign(bodyStyle, {\n          overflow: '',\n          [paddingProp]: ''\n        });\n        if (isIOS) {\n          Object.assign(bodyStyle, {\n            position: '',\n            top: '',\n            left: '',\n            right: ''\n          });\n          window.scrollTo(scrollX, scrollY);\n        }\n      }\n    };\n  }, [lockId, lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nfunction useClick(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    return {\n      reference: {\n        onPointerDown(event) {\n          pointerTypeRef.current = event.pointerType;\n        },\n        onMouseDown(event) {\n          // Ignore all buttons except for the \"main\" button.\n          // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n          if (event.button !== 0) {\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (eventOption === 'click') {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            // Prevent stealing focus from the floating element\n            event.preventDefault();\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onClick(event) {\n          if (eventOption === 'mousedown' && pointerTypeRef.current) {\n            pointerTypeRef.current = undefined;\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'click' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onKeyDown(event) {\n          pointerTypeRef.current = undefined;\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event)) {\n            return;\n          }\n          if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n            // Prevent scrolling\n            event.preventDefault();\n            didKeyDownRef.current = true;\n          }\n          if (event.key === 'Enter') {\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        },\n        onKeyUp(event) {\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n            return;\n          }\n          if (event.key === ' ' && didKeyDownRef.current) {\n            didKeyDownRef.current = false;\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        }\n      }\n    };\n  }, [enabled, dataRef, eventOption, ignoreMouse, keyboardHandlers, domReference, toggle, open, onOpenChange]);\n}\n\nfunction createVirtualElement(domRef, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domRef.current || undefined,\n    getBoundingClientRect() {\n      var _domRef$current, _data$dataRef$current;\n      const domRect = ((_domRef$current = domRef.current) == null ? void 0 : _domRef$current.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nfunction useClientPoint(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    refs,\n    dataRef,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEffectEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(refs.domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEffectEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(refs.floating.current);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(refs.floating.current, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(refs.domReference.current);\n  }, [dataRef, enabled, openCheck, refs, setReference, x, y]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentionally specifying `reactive`\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    function setPointerTypeRef(_ref) {\n      let {\n        pointerType\n      } = _ref;\n      setPointerType(pointerType);\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerTypeRef,\n        onPointerEnter: setPointerTypeRef,\n        onMouseMove: handleReferenceEnterOrMove,\n        onMouseEnter: handleReferenceEnterOrMove\n      }\n    };\n  }, [enabled, handleReferenceEnterOrMove]);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeProp = normalizable => {\n  var _normalizable$escapeK, _normalizable$outside;\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : (_normalizable$escapeK = normalizable == null ? void 0 : normalizable.escapeKey) != null ? _normalizable$escapeK : false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : (_normalizable$outside = normalizable == null ? void 0 : normalizable.outsidePress) != null ? _normalizable$outside : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nfunction useDismiss(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    nodeId,\n    elements: {\n      reference,\n      domReference,\n      floating\n    },\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEffectEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const closeOnEscapeKeyDown = useEffectEvent(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    onOpenChange(false, isReactEvent(event) ? event.nativeEvent : event, 'escape-key');\n  });\n  const closeOnEscapeKeyDownCapture = useEffectEvent(event => {\n    var _getTarget2;\n    const callback = () => {\n      var _getTarget;\n      closeOnEscapeKeyDown(event);\n      (_getTarget = getTarget(event)) == null || _getTarget.removeEventListener('keydown', callback);\n    };\n    (_getTarget2 = getTarget(event)) == null || _getTarget2.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEffectEvent(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n\n    // When click outside is lazy (`click` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (outsidePressEvent === 'click' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = \"[\" + createAttribute('inert') + \"]\";\n    const markers = getDocument(floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, floating) || isEventTargetWithin(event, domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, event, 'outside-press');\n  });\n  const closeOnPressOutsideCapture = useEffectEvent(event => {\n    var _getTarget4;\n    const callback = () => {\n      var _getTarget3;\n      closeOnPressOutside(event);\n      (_getTarget3 = getTarget(event)) == null || _getTarget3.removeEventListener(outsidePressEvent, callback);\n    };\n    (_getTarget4 = getTarget(event)) == null || _getTarget4.addEventListener(outsidePressEvent, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    function onScroll(event) {\n      onOpenChange(false, event, 'ancestor-scroll');\n    }\n    const doc = getDocument(floating);\n    escapeKey && doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n    outsidePress && doc.addEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReference)) {\n        ancestors = getOverflowAncestors(domReference);\n      }\n      if (isElement(floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floating));\n      }\n      if (!isElement(reference) && reference && reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      escapeKey && doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      outsidePress && doc.removeEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n    };\n  }, [dataRef, floating, domReference, reference, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [bubbleHandlerKeys[referencePressEvent]]: event => {\n          if (referencePress) {\n            onOpenChange(false, event.nativeEvent, 'reference-press');\n          }\n        }\n      },\n      floating: {\n        onKeyDown: closeOnEscapeKeyDown,\n        onMouseDown() {\n          endedOrStartedInsideRef.current = true;\n        },\n        onMouseUp() {\n          endedOrStartedInsideRef.current = true;\n        },\n        [captureHandlerKeys[outsidePressEvent]]: () => {\n          insideReactTreeRef.current = true;\n        }\n      }\n    };\n  }, [enabled, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);\n}\n\nlet devMessageSet;\nif (process.env.NODE_ENV !== \"production\") {\n  devMessageSet = /*#__PURE__*/new Set();\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  var _options$elements2;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open = false,\n    onOpenChange: unstable_onOpenChange,\n    nodeId\n  } = options;\n  if (process.env.NODE_ENV !== \"production\") {\n    var _options$elements;\n    const err = 'Floating UI: Cannot pass a virtual element to the ' + '`elements.reference` option, as it must be a real DOM element. ' + 'Use `refs.setPositionReference` instead.';\n    if ((_options$elements = options.elements) != null && _options$elements.reference && !isElement(options.elements.reference)) {\n      var _devMessageSet;\n      if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(err))) {\n        var _devMessageSet2;\n        (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(err);\n        console.error(err);\n      }\n    }\n  }\n  const [_domReference, setDomReference] = React.useState(null);\n  const domReference = ((_options$elements2 = options.elements) == null ? void 0 : _options$elements2.reference) || _domReference;\n  const position = useFloating$1(options);\n  const tree = useFloatingTree();\n  const nested = useFloatingParentNodeId() != null;\n  const onOpenChange = useEffectEvent((open, event, reason) => {\n    if (open) {\n      dataRef.current.openEvent = event;\n    }\n    events.emit('openchange', {\n      open,\n      event,\n      reason,\n      nested\n    });\n    unstable_onOpenChange == null || unstable_onOpenChange(open, event, reason);\n  });\n  const domReferenceRef = React.useRef(null);\n  const dataRef = React.useRef({});\n  const events = React.useState(() => createPubSub())[0];\n  const floatingId = useId();\n  const setPositionReference = React.useCallback(node => {\n    const positionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    position.refs.setReference(positionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    refs,\n    elements,\n    dataRef,\n    nodeId,\n    floatingId,\n    events,\n    open,\n    onOpenChange\n  }), [position, nodeId, floatingId, events, open, onOpenChange, refs, elements]);\n  index(() => {\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nfunction useFocus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    refs,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const win = getWindow(domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(domReference) && domReference === activeElement(getDocument(domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    win.addEventListener('blur', onBlur);\n    win.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      win.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        reason\n      } = _ref;\n      if (reason === 'reference-press' || reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onPointerDown(event) {\n          if (isVirtualPointerEvent(event.nativeEvent)) return;\n          keyboardModalityRef.current = false;\n        },\n        onMouseLeave() {\n          blockFocusRef.current = false;\n        },\n        onFocus(event) {\n          if (blockFocusRef.current) return;\n          const target = getTarget(event.nativeEvent);\n          if (visibleOnly && isElement(target)) {\n            try {\n              // Mac Safari unreliably matches `:focus-visible` on the reference\n              // if focus was outside the page initially - use the fallback\n              // instead.\n              if (isSafari() && isMac()) throw Error();\n              if (!target.matches(':focus-visible')) return;\n            } catch (e) {\n              // Old browsers will throw an error when using `:focus-visible`.\n              if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n                return;\n              }\n            }\n          }\n          onOpenChange(true, event.nativeEvent, 'focus');\n        },\n        onBlur(event) {\n          blockFocusRef.current = false;\n          const relatedTarget = event.relatedTarget;\n\n          // Hit the non-modal focus management portal guard. Focus will be\n          // moved into the floating element immediately after.\n          const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n          // Wait for the window blur listener to fire.\n          timeoutRef.current = window.setTimeout(() => {\n            const activeEl = activeElement(domReference ? domReference.ownerDocument : document);\n\n            // Focus left the page, keep it open.\n            if (!relatedTarget && activeEl === domReference) return;\n\n            // When focusing the reference element (e.g. regular click), then\n            // clicking into the floating element, prevent it from hiding.\n            // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n            // We can not rely on relatedTarget to point to the correct element\n            // as it will only point to the shadow host of the newly focused element\n            // and not the element that actually has received focus if it is located\n            // inside a shadow root.\n            if (contains(refs.floating.current, activeEl) || contains(domReference, activeEl) || movedToFocusGuard) {\n              return;\n            }\n            onOpenChange(false, event.nativeEvent, 'focus');\n          });\n        }\n      }\n    };\n  }, [enabled, visibleOnly, domReference, refs, onOpenChange]);\n}\n\nconst ACTIVE_KEY = 'active';\nconst SELECTED_KEY = 'selected';\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  const isItem = elementKey === 'item';\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1\n    }),\n    ...domUserProps,\n    ...propsList.map(value => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === 'function') {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\n\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  // The dependencies are a dynamic array, so we can't use the linter's\n  // suggestion to add it to the deps array.\n  const deps = propsList;\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // Granularly check for `item` changes, because the `getItemProps` getter\n  // should be as referentially stable as possible since it may be passed as\n  // a prop to many components. All `item` key values must therefore be\n  // memoized.\n  propsList.map(key => key == null ? void 0 : key.item));\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\nlet isPreventScrollSupported = false;\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nfunction useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    refs,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true,\n    virtualItemRef,\n    itemSizes,\n    dense = false\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow', 'escaping.'].join(' '));\n      }\n      if (!virtual) {\n        console.warn(['Floating UI: `useListNavigation` must be virtual to allow', 'escaping.'].join(' '));\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the', '`orientation` should be either \"horizontal\" or \"both\".'].join(' '));\n    }\n  }\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEffectEvent(unstable_onNavigate);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floating);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const [activeId, setActiveId] = React.useState();\n  const [virtualId, setVirtualId] = React.useState();\n  const focusItem = useEffectEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    const item = listRef.current[indexRef.current];\n    if (!item) return;\n    if (virtual) {\n      setActiveId(item.id);\n      tree == null || tree.events.emit('virtualfocus', item);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    } else {\n      enqueueFocus(item, {\n        preventScroll: true,\n        // Mac Safari does not move the virtual cursor unless the focus call\n        // is sync. However, for the very first focus call, we need to wait\n        // for the position to be ready in order to prevent unwanted\n        // scrolling. This means the virtual cursor will not move to the first\n        // item when first opening the floating element, but will on\n        // subsequent calls. `preventScroll` is supported in modern Safari,\n        // so we can use that instead.\n        // iOS Safari must be async or the first item will not be focused.\n        sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n      });\n    }\n    requestAnimationFrame(() => {\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        item.scrollIntoView == null || item.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndex != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if (!previousMountedRef.current && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, floating, activeIndex, selectedIndex, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    var _nodes$find;\n    if (!enabled || floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null || (_nodes$find = _nodes$find.context) == null ? void 0 : _nodes$find.elements.floating;\n    const activeEl = activeElement(getDocument(floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, floating, tree, parentId, virtual]);\n  index(() => {\n    if (!enabled || !tree || !virtual || parentId) return;\n    function handleVirtualFocus(item) {\n      setVirtualId(item.id);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    }\n    tree.events.on('virtualfocus', handleVirtualFocus);\n    return () => {\n      tree.events.off('virtualfocus', handleVirtualFocus);\n    };\n  }, [enabled, tree, virtual, parentId, virtualItemRef]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(refs.floating.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, refs, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    const disabledIndices = disabledIndicesRef.current;\n    function onKeyDown(event) {\n      isPointerModalityRef.current = false;\n      forceSyncFocus.current = true;\n\n      // If the floating element is animating out, ignore navigation. Otherwise,\n      // the `activeIndex` gets set to 0 despite not being open so the next time\n      // the user ArrowDowns, the first item won't be focused.\n      if (!latestOpenRef.current && event.currentTarget === refs.floating.current) {\n        return;\n      }\n      if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n        stopEvent(event);\n        onOpenChange(false, event.nativeEvent, 'list-navigation');\n        if (isHTMLElement(domReference) && !virtual) {\n          domReference.focus();\n        }\n        return;\n      }\n      const currentIndex = indexRef.current;\n      const minIndex = getMinIndex(listRef, disabledIndices);\n      const maxIndex = getMaxIndex(listRef, disabledIndices);\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n\n      // Grid navigation.\n      if (cols > 1) {\n        const sizes = itemSizes || Array.from({\n          length: listRef.current.length\n        }, () => ({\n          width: 1,\n          height: 1\n        }));\n        // To calculate movements on the grid, we use hypothetical cell indices\n        // as if every item was 1x1, then convert back to real indices.\n        const cellMap = buildCellMap(sizes, cols, dense);\n        const minGridIndex = cellMap.findIndex(index => index != null && !(disabledIndices != null && disabledIndices.includes(index)));\n        // last enabled index\n        const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n        indexRef.current = cellMap[getGridNavigatedIndex({\n          current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n        }, {\n          event,\n          orientation,\n          loop,\n          cols,\n          // treat undefined (empty grid spaces) as disabled indices so we\n          // don't end up in them\n          disabledIndices: getCellIndices([...(disabledIndices || []), undefined], cellMap),\n          minIndex: minGridIndex,\n          maxIndex: maxGridIndex,\n          prevIndex: getCellIndexOfCorner(indexRef.current, sizes, cellMap, cols,\n          // use a corner matching the edge closest to the direction\n          // we're moving in so we don't end up in the same item. Prefer\n          // top/left over bottom/right.\n          event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl'),\n          stopEvent: true\n        })]; // navigated cell will never be nullish\n\n        onNavigate(indexRef.current);\n        if (orientation === 'both') {\n          return;\n        }\n      }\n      if (isMainOrientationKey(event.key, orientation)) {\n        stopEvent(event);\n\n        // Reset the index if no item is focused.\n        if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n          indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n          onNavigate(indexRef.current);\n          return;\n        }\n        if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n          if (loop) {\n            indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            }));\n          }\n        } else {\n          if (loop) {\n            indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            }));\n          }\n        }\n        if (isIndexOutOfBounds(listRef, indexRef.current)) {\n          onNavigate(null);\n        } else {\n          onNavigate(indexRef.current);\n        }\n      }\n    }\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    const ariaActiveDescendantProp = virtual && open && hasActiveIndex && {\n      'aria-activedescendant': virtualId || activeId\n    };\n    const activeItem = listRef.current.find(item => (item == null ? void 0 : item.id) === activeId);\n    return {\n      reference: {\n        ...ariaActiveDescendantProp,\n        onKeyDown(event) {\n          isPointerModalityRef.current = false;\n          const isArrowKey = event.key.indexOf('Arrow') === 0;\n          const isCrossOpenKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n          const isCrossCloseKey = isCrossOrientationCloseKey(event.key, orientation, rtl);\n          const isMainKey = isMainOrientationKey(event.key, orientation);\n          const isNavigationKey = (nested ? isCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n          if (virtual && open) {\n            const rootNode = tree == null ? void 0 : tree.nodesRef.current.find(node => node.parentId == null);\n            const deepestNode = tree && rootNode ? getDeepestNode(tree.nodesRef.current, rootNode.id) : null;\n            if (isArrowKey && deepestNode && virtualItemRef) {\n              const eventObject = new KeyboardEvent('keydown', {\n                key: event.key,\n                bubbles: true\n              });\n              if (isCrossOpenKey || isCrossCloseKey) {\n                var _deepestNode$context, _deepestNode$context2;\n                const isCurrentTarget = ((_deepestNode$context = deepestNode.context) == null ? void 0 : _deepestNode$context.elements.domReference) === event.currentTarget;\n                const dispatchItem = isCrossCloseKey && !isCurrentTarget ? (_deepestNode$context2 = deepestNode.context) == null ? void 0 : _deepestNode$context2.elements.domReference : isCrossOpenKey ? activeItem : null;\n                if (dispatchItem) {\n                  stopEvent(event);\n                  dispatchItem.dispatchEvent(eventObject);\n                  setVirtualId(undefined);\n                }\n              }\n              if (isMainKey && deepestNode.context) {\n                if (deepestNode.context.open && deepestNode.parentId && event.currentTarget !== deepestNode.context.elements.domReference) {\n                  var _deepestNode$context$;\n                  stopEvent(event);\n                  (_deepestNode$context$ = deepestNode.context.elements.domReference) == null || _deepestNode$context$.dispatchEvent(eventObject);\n                  return;\n                }\n              }\n            }\n            return onKeyDown(event);\n          }\n\n          // If a floating element should not open on arrow key down, avoid\n          // setting `activeIndex` while it's closed.\n          if (!open && !openOnArrowKeyDown && isArrowKey) {\n            return;\n          }\n          if (isNavigationKey) {\n            keyRef.current = nested && isMainKey ? null : event.key;\n          }\n          if (nested) {\n            if (isCrossOpenKey) {\n              stopEvent(event);\n              if (open) {\n                indexRef.current = getMinIndex(listRef, disabledIndices);\n                onNavigate(indexRef.current);\n              } else {\n                onOpenChange(true, event.nativeEvent, 'list-navigation');\n              }\n            }\n            return;\n          }\n          if (isMainKey) {\n            if (selectedIndex != null) {\n              indexRef.current = selectedIndex;\n            }\n            stopEvent(event);\n            if (!open && openOnArrowKeyDown) {\n              onOpenChange(true, event.nativeEvent, 'list-navigation');\n            } else {\n              onKeyDown(event);\n            }\n            if (open) {\n              onNavigate(indexRef.current);\n            }\n          }\n        },\n        onFocus() {\n          if (open) {\n            onNavigate(null);\n          }\n        },\n        onPointerDown: checkVirtualPointer,\n        onMouseDown: checkVirtualMouse,\n        onClick: checkVirtualMouse\n      },\n      floating: {\n        'aria-orientation': orientation === 'both' ? undefined : orientation,\n        ...(!isTypeableCombobox(domReference) && ariaActiveDescendantProp),\n        onKeyDown,\n        onPointerMove() {\n          isPointerModalityRef.current = true;\n        }\n      },\n      item\n    };\n  }, [domReference, refs, activeId, virtualId, disabledIndicesRef, latestOpenRef, listRef, enabled, orientation, rtl, virtual, open, hasActiveIndex, nested, selectedIndex, openOnArrowKeyDown, allowEscape, cols, loop, focusItemOnOpen, onNavigate, onOpenChange, item, tree, virtualItemRef, itemSizes, dense]);\n}\n\nconst componentRoleToAriaRoleMap = /*#__PURE__*/new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nfunction useRole(context, props) {\n  var _componentRoleToAriaR;\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const ariaRole = (_componentRoleToAriaR = componentRoleToAriaRoleMap.get(role)) != null ? _componentRoleToAriaR : role;\n  const referenceId = useId();\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        reference: {\n          [\"aria-\" + (role === 'label' ? 'labelledby' : 'describedby')]: open ? floatingId : undefined\n        },\n        floating: floatingProps\n      };\n    }\n    return {\n      reference: {\n        'aria-expanded': open ? 'true' : 'false',\n        'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n        'aria-controls': open ? floatingId : undefined,\n        ...(ariaRole === 'listbox' && {\n          role: 'combobox'\n        }),\n        ...(ariaRole === 'menu' && {\n          id: referenceId\n        }),\n        ...(ariaRole === 'menu' && isNested && {\n          role: 'menuitem'\n        }),\n        ...(role === 'select' && {\n          'aria-autocomplete': 'none'\n        }),\n        ...(role === 'combobox' && {\n          'aria-autocomplete': 'list'\n        })\n      },\n      floating: {\n        ...floatingProps,\n        ...(ariaRole === 'menu' && {\n          'aria-labelledby': referenceId\n        })\n      },\n      item(_ref) {\n        let {\n          active,\n          selected\n        } = _ref;\n        const commonProps = {\n          role: 'option',\n          ...(active && {\n            id: floatingId + \"-option\"\n          })\n        };\n\n        // For `menu`, we are unable to tell if the item is a `menuitemradio`\n        // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n        // avoid defaulting to `menuitem` as it may overwrite custom role props.\n        switch (role) {\n          case 'select':\n            return {\n              ...commonProps,\n              'aria-selected': active && selected\n            };\n          case 'combobox':\n            {\n              return {\n                ...commonProps,\n                ...(active && {\n                  'aria-selected': true\n                })\n              };\n            }\n        }\n        return {};\n      }\n    };\n  }, [enabled, role, ariaRole, open, floatingId, referenceId, isNested]);\n}\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [initiated, setInitiated] = React.useState(false);\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n\n  // `initiated` check prevents this `setState` call from breaking\n  // <FloatingPortal />. This call is necessary to ensure subsequent opens\n  // after the initial one allows the correct side animation to play when the\n  // placement has changed.\n  index(() => {\n    if (initiated && !isMounted) {\n      setStatus('unmounted');\n    }\n  }, [initiated, isMounted]);\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    }\n    setInitiated(true);\n    setStatus('close');\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nfunction useTypeahead(context, props) {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEffectEvent(unstable_onMatch);\n  const onTypingChange = useEffectEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setTypingChange(value) {\n      if (value) {\n        if (!dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      } else {\n        if (dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      }\n    }\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    function onKeyDown(event) {\n      const listContent = listRef.current;\n      if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n        if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n          setTypingChange(false);\n        } else if (event.key === ' ') {\n          stopEvent(event);\n        }\n      }\n      if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n      // Character key.\n      event.key.length !== 1 ||\n      // Modifier key.\n      event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n      if (open && event.key !== ' ') {\n        stopEvent(event);\n        setTypingChange(true);\n      }\n\n      // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n      // allow it in this case, too.\n      const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n        var _text$, _text$2;\n        return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n      });\n\n      // Allows the user to cycle through items that start with the same letter\n      // in rapid succession.\n      if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n      }\n      stringRef.current += event.key;\n      clearTimeout(timeoutIdRef.current);\n      timeoutIdRef.current = setTimeout(() => {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n        setTypingChange(false);\n      }, resetMs);\n      const prevIndex = prevIndexRef.current;\n      const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n      if (index !== -1) {\n        onMatch(index);\n        matchIndexRef.current = index;\n      } else if (event.key !== ' ') {\n        stringRef.current = '';\n        setTypingChange(false);\n      }\n    }\n    return {\n      reference: {\n        onKeyDown\n      },\n      floating: {\n        onKeyDown,\n        onKeyUp(event) {\n          if (event.key === ' ') {\n            setTypingChange(false);\n          }\n        }\n      }\n    };\n  }, [enabled, open, dataRef, listRef, resetMs, ignoreKeysRef, findMatchRef, onMatch, onTypingChange]);\n}\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = props;\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        console.warn(['Floating UI: `placement` side must be \"bottom\" when using the', '`inner` middleware.'].join(' '));\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, el.scrollHeight), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = Math.max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const maxHeight = Math.max(0, el.scrollHeight - diffY - Math.max(0, overflow.bottom));\n    el.style.maxHeight = maxHeight + \"px\";\n    el.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      if (el.offsetHeight < item.offsetHeight * Math.min(minItemsVisible, listRef.current.length - 1) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold) {\n        flushSync(() => onFallbackChange(true));\n      } else {\n        flushSync(() => onFallbackChange(false));\n      }\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, el.offsetHeight), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      floating: {\n        onKeyDown() {\n          controlledScrollingRef.current = true;\n        },\n        onWheel() {\n          controlledScrollingRef.current = false;\n        },\n        onPointerMove() {\n          controlledScrollingRef.current = false;\n        },\n        onScroll() {\n          const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n          if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n            return;\n          }\n          if (prevScrollTopRef.current !== null) {\n            const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n            if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n              flushSync(() => onChange(d => d + scrollDiff));\n            }\n          }\n\n          // [Firefox] Wait for the height change to have been applied.\n          requestAnimationFrame(() => {\n            prevScrollTopRef.current = el.scrollTop;\n          });\n        }\n      }\n    };\n  }, [enabled, overflowRef, elements.floating, scrollRef, onChange]);\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nfunction safePolygon(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  let timeoutId;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\nexport { Composite, CompositeItem, FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}