{"ast":null,"code":"var _jsxFileName = \"/Users/mikejabrhamdan/grides-react-app/src/components/Step2.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport moment from 'moment';\nimport './Step2.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultFilters = {\n  tripPrice: {\n    min: 0,\n    max: 1000\n  },\n  vehicleType: 'All',\n  fuelType: 'All',\n  transmission: 'All',\n  brandOrModel: ''\n};\nfunction safeDateFormat(dateInput) {\n  if (!dateInput) {\n    console.error('Date input is undefined, null, or empty');\n    return 'Invalid Date';\n  }\n  const momentDate = moment(dateInput);\n  if (!momentDate.isValid()) {\n    console.error('Invalid date:', dateInput);\n    return 'Invalid Date';\n  }\n  return momentDate.format('MMMM D, YYYY [at] hh:mm A');\n}\nconst formatDate = dateString => {\n  if (!dateString) return 'Invalid Date';\n  const momentDate = moment(dateString);\n  if (!momentDate.isValid()) {\n    return 'Invalid Date';\n  }\n  return momentDate.format('MMMM D, YYYY [at] hh:mm A');\n};\nfunction validateAndFormatDate(dateString) {\n  if (!dateString) return '';\n  const date = moment(dateString);\n  if (!date.isValid()) {\n    console.error('Invalid date:', dateString);\n    return '';\n  }\n  return date.format('YYYY-MM-DD HH:mm:ss');\n}\nconst Step2 = () => {\n  _s();\n  const [pickupLocation, setPickupLocation] = useState(localStorage.getItem('pickupLocation') || '');\n  const [returnLocation, setReturnLocation] = useState(localStorage.getItem('selectedAddress') || '');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [vehicles, setVehicles] = useState([]);\n  const [filter, setFilter] = useState('');\n  const [filters, setFilters] = useState(defaultFilters);\n  const [currentPrice, setCurrentPrice] = useState(10000); // Placeholder, will be updated\n  const [maxPrice, setMaxPrice] = useState(10000); // Placeholder, will be updated\n  const [filteredVehicles, setFilteredVehicles] = useState([]); // State to hold filtered vehicles\n  const [finalReturnLocation, setFinalReturnLocation] = useState(localStorage.getItem('finalReturnLocation') || '');\n  const [dateFrom, setDateFrom] = useState(localStorage.getItem('dateFrom') || '');\n  const [dateTo, setDateTo] = useState(localStorage.getItem('dateTo') || '');\n  const calculateDuration = () => {\n    const from = moment(localStorage.getItem('dateFrom'));\n    const to = moment(localStorage.getItem('dateTo'));\n    return to.diff(from, 'days');\n  };\n  const [reservationDuration, setReservationDuration] = useState(calculateDuration());\n  function generateDescription(vehicle) {\n    const descriptors = [\"Experience ultimate driving comfort with\", \"Elevate your journey with the sophisticated\", \"Turn heads in the sleek and stylish\", \"Embrace the road ahead with unparalleled performance of\", \"Discover the perfect blend of luxury and efficiency in\"];\n    const uniqueIdentifier = `${vehicle.brand} ${vehicle.mark} ${vehicle.year}`; // Changed model to mark\n    const randomIndex = Math.floor(Math.random() * descriptors.length);\n    const baseDescription = descriptors[randomIndex];\n    const uniquenessFactor = vehicle.color ? `in its stunning ${vehicle.color.title} color` : `with its unique charm`;\n\n    // Additional uniqueness for automatic vehicles\n    let automaticUniqueness = '';\n    if (vehicle.transmission === 'Automatic') {\n      // Generate unique aspects for automatic vehicles\n      const uniqueAspects = [`featuring an advanced automatic transmission system for smooth and effortless gear shifts`, `equipped with a state-of-the-art automatic gearbox designed for optimal performance and efficiency`, `boasting an intuitive automatic transmission that adapts to your driving style for a personalized experience`, `with an automatic transmission that ensures a seamless and engaging driving experience, no matter the destination`, `offering an automatic transmission with dynamic shift programs that adjust to road conditions and driving habits`];\n      const aspectIndex = Math.floor(Math.random() * uniqueAspects.length);\n      automaticUniqueness = uniqueAspects[aspectIndex];\n    }\n    return `${baseDescription} the ${uniqueIdentifier} ${uniquenessFactor}. ${automaticUniqueness}`;\n  }\n  const filterVehiclesByPriceAndFilters = useCallback(() => {\n    const filtered = vehicles.filter(vehicle => {\n      const totalPrice = vehicle.price * reservationDuration;\n      const matchesFilter = filters.brandOrModel ? vehicle.brand.toLowerCase().includes(filters.brandOrModel.toLowerCase()) || vehicle.mark.toLowerCase().includes(filters.brandOrModel.toLowerCase()) : true; // Changed model to mark\n      const matchesVehicleType = filters.vehicleType === 'All' || vehicle.type === filters.vehicleType;\n      const matchesFuelType = filters.fuelType === 'All' || vehicle.fuelType === filters.fuelType;\n      const matchesTransmission = filters.transmission === 'All' || vehicle.transmission === filters.transmission;\n      return totalPrice <= currentPrice && matchesFilter && matchesVehicleType && matchesFuelType && matchesTransmission;\n    });\n    setFilteredVehicles(filtered);\n  }, [vehicles, reservationDuration, filters, currentPrice]); // Dependencies of the function\n\n  useEffect(() => {\n    async function fetchVehicles() {\n      setLoading(true);\n      setError(null);\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          throw new Error(\"Token not found in localStorage\");\n        }\n        const storedDateFrom = localStorage.getItem('dateFrom');\n        const storedDateTo = localStorage.getItem('dateTo');\n        if (!storedDateFrom || !storedDateTo) {\n          throw new Error(\"Date range is incomplete. Please select both start and end dates.\");\n        }\n        const formattedDateFrom = validateAndFormatDate(storedDateFrom);\n        const formattedDateTo = validateAndFormatDate(storedDateTo);\n\n        // Retrieve location URLs from localStorage\n        const pickupLocationURL = localStorage.getItem('PickupLocationURL');\n        const returnLocationURL = localStorage.getItem('ReturnLocationURL');\n        const customAddressURL = localStorage.getItem('CustomAddressURL');\n\n        // Ensure there's enough information to proceed with the API call\n        if (!customAddressURL && (!pickupLocationURL || !returnLocationURL)) {\n          console.error(\"Location information is missing.\");\n          setError(\"Location information is missing. Please select both pickup and return locations.\");\n          setLoading(false);\n          return;\n        }\n        let queryParams = new URLSearchParams({\n          date_from: formattedDateFrom,\n          date_to: formattedDateTo\n        });\n\n        // Use CustomAddressURL if available; otherwise, use the specific location URLs\n        if (customAddressURL) {\n          queryParams.set('pickup_location', customAddressURL);\n          queryParams.set('return_location', customAddressURL);\n        } else {\n          queryParams.set('pickup_location', pickupLocationURL);\n          queryParams.set('return_location', returnLocationURL);\n        }\n        const response = await axios.get(`https://calm-retreat-90846-cd036e8a822e.herokuapp.com/https://api.rentsyst.com/v2/booking/search?${queryParams.toString()}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Process and set the vehicle data\n        const vehicleCatalog = response.data.vehicles.map(vehicle => {\n          const totalPrice = vehicle.price * reservationDuration; // Calculate total price based on duration\n          return {\n            ...vehicle,\n            totalPrice,\n            // Add totalPrice to each vehicle object\n            description: generateDescription(vehicle)\n          };\n        });\n        setVehicles(vehicleCatalog);\n        setFilteredVehicles(vehicleCatalog);\n      } catch (error) {\n        console.error('Failed to fetch vehicles:', error);\n        setError('Failed to fetch available vehicles. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchVehicles();\n  }, [reservationDuration]); // Added reservationDuration to the dependency array\n\n  const resetFilters = useCallback(() => {\n    setFilter('');\n    setFilters(defaultFilters);\n    setCurrentPrice(maxPrice); // Reset to maxPrice when filters are reset\n    filterVehiclesByPriceAndFilters(); // Reapply filters after reset\n  }, [maxPrice, setFilter, setFilters, setCurrentPrice, filterVehiclesByPriceAndFilters]); // Include all dependencies\n\n  useEffect(() => {\n    filterVehiclesByPriceAndFilters();\n  }, [filterVehiclesByPriceAndFilters]); // Now depends on filterVehiclesByPriceAndFilters\n\n  const handleTripPriceChange = event => {\n    setCurrentPrice(Number(event.target.value));\n  };\n  useEffect(() => {\n    localStorage.setItem('finalReturnLocation', finalReturnLocation);\n    localStorage.setItem('dateFrom', dateFrom);\n    localStorage.setItem('dateTo', dateTo);\n  }, [finalReturnLocation, dateFrom, dateTo, reservationDuration]);\n  useEffect(() => {\n    resetFilters();\n  }, [resetFilters]); // Now depends on resetFilters\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-bar\",\n      style: {\n        width: '100%',\n        position: 'relative',\n        paddingTop: '20px',\n        fontSize: '16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/logo.png\",\n        alt: \"Logo\",\n        className: \"logo\",\n        style: {\n          position: 'absolute',\n          top: '10px',\n          left: '10px',\n          marginTop: '0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reservation-details\",\n        style: {\n          marginLeft: '120px',\n          marginTop: '20px',\n          display: 'flex',\n          alignItems: 'center',\n          color: '#eac831',\n          fontSize: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Location: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: pickupLocation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Date From: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: safeDateFormat(dateFrom)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Date To: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: safeDateFormat(dateTo)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Duration: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: [reservationDuration, \" days\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"catalog-container\",\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        paddingTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vehicle-list\",\n        style: {\n          zIndex: 9999,\n          width: 'calc(100% - 320px)',\n          height: '100%',\n          overflowY: 'auto',\n          overflowX: 'hidden',\n          msOverflowStyle: 'none',\n          scrollbarWidth: 'none',\n          marginTop: '20px'\n        },\n        children: [loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading available vehicles...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 23\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), !loading && !error && filteredVehicles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vehicle-grid\",\n          children: filteredVehicles.map(vehicle => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vehicle-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: vehicle.thumbnail,\n                alt: `${vehicle.brand} ${vehicle.mark}`,\n                className: \"vehicle-thumbnail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"vehicle-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: `${vehicle.brand} ${vehicle.mark} ${vehicle.year}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Color: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: vehicle.color.value\n                    },\n                    children: vehicle.color.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"vehicle-features\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Key Features:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Fuel Efficiency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Navigation System\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Air Conditioning\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Safety Features\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Unlimited Mileage\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"vehicle-description-container\",\n                  style: {\n                    height: '15em',\n                    overflow: 'hidden',\n                    display: '-webkit-box',\n                    WebkitLineClamp: '10',\n                    WebkitBoxOrient: 'vertical'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"vehicle-description\",\n                    children: vehicle.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"price-info\",\n                  style: {\n                    color: '#eac831'\n                  },\n                  children: [\"Daily Price: $\", vehicle.price, \" | Trip Price: $\", vehicle.totalPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this)]\n            }, vehicle.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        style: {\n          marginTop: '20px',\n          width: '180px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gold-line\",\n            children: \"Filter by brand or model\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter brand or model\",\n            value: filter,\n            onChange: e => setFilters({\n              ...filters,\n              brandOrModel: e.target.value\n            }),\n            className: \"filter-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gold-line\",\n            children: \"Vehicle Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.vehicleType,\n            onChange: e => setFilters({\n              ...filters,\n              vehicleType: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Sedan\",\n              children: \"Sedan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"SUV\",\n              children: \"SUV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Truck\",\n              children: \"Truck\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gold-line\",\n            children: \"Fuel Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.fuelType,\n            onChange: e => setFilters({\n              ...filters,\n              fuelType: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Gasoline\",\n              children: \"Gasoline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Diesel\",\n              children: \"Diesel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gold-line\",\n            children: \"Transmission\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.transmission,\n            onChange: e => setFilters({\n              ...filters,\n              transmission: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All\",\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Automatic\",\n              children: \"Automatic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Manual\",\n              children: \"Manual\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gold-line\",\n            children: \"Max Trip Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: maxPrice,\n            value: currentPrice,\n            onChange: handleTripPriceChange,\n            step: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-label\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", currentPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reset-filter\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-gold-line-width\",\n            onClick: resetFilters,\n            children: \"Reset Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n};\n_s(Step2, \"XRvJuQWOhNMmy4UsYyjCq92roSU=\");\n_c = Step2;\nexport default Step2;\nvar _c;\n$RefreshReg$(_c, \"Step2\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","moment","jsxDEV","_jsxDEV","defaultFilters","tripPrice","min","max","vehicleType","fuelType","transmission","brandOrModel","safeDateFormat","dateInput","console","error","momentDate","isValid","format","formatDate","dateString","validateAndFormatDate","date","Step2","_s","pickupLocation","setPickupLocation","localStorage","getItem","returnLocation","setReturnLocation","loading","setLoading","setError","vehicles","setVehicles","filter","setFilter","filters","setFilters","currentPrice","setCurrentPrice","maxPrice","setMaxPrice","filteredVehicles","setFilteredVehicles","finalReturnLocation","setFinalReturnLocation","dateFrom","setDateFrom","dateTo","setDateTo","calculateDuration","from","to","diff","reservationDuration","setReservationDuration","generateDescription","vehicle","descriptors","uniqueIdentifier","brand","mark","year","randomIndex","Math","floor","random","length","baseDescription","uniquenessFactor","color","title","automaticUniqueness","uniqueAspects","aspectIndex","filterVehiclesByPriceAndFilters","filtered","totalPrice","price","matchesFilter","toLowerCase","includes","matchesVehicleType","type","matchesFuelType","matchesTransmission","fetchVehicles","token","Error","storedDateFrom","storedDateTo","formattedDateFrom","formattedDateTo","pickupLocationURL","returnLocationURL","customAddressURL","queryParams","URLSearchParams","date_from","date_to","set","response","get","toString","headers","Authorization","vehicleCatalog","data","map","description","resetFilters","handleTripPriceChange","event","Number","target","value","setItem","children","className","style","width","position","paddingTop","fontSize","src","alt","top","left","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","display","alignItems","justifyContent","zIndex","height","overflowY","overflowX","msOverflowStyle","scrollbarWidth","thumbnail","overflow","WebkitLineClamp","WebkitBoxOrient","id","placeholder","onChange","e","step","onClick","_c","$RefreshReg$"],"sources":["/Users/mikejabrhamdan/grides-react-app/src/components/Step2.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport moment from 'moment';\nimport './Step2.css';\n\nconst defaultFilters = {\n  tripPrice: { min: 0, max: 1000 },\n  vehicleType: 'All',\n  fuelType: 'All',\n  transmission: 'All',\n  brandOrModel: '',\n};\n\nfunction safeDateFormat(dateInput) {\n  if (!dateInput) {\n    console.error('Date input is undefined, null, or empty');\n    return 'Invalid Date';\n  }\n\n  const momentDate = moment(dateInput);\n\n  if (!momentDate.isValid()) { \n    console.error('Invalid date:', dateInput);\n    return 'Invalid Date';\n  }\n\n  return momentDate.format('MMMM D, YYYY [at] hh:mm A');\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return 'Invalid Date';\n\n  const momentDate = moment(dateString);\n  if (!momentDate.isValid()) {\n    return 'Invalid Date';\n  }\n  return momentDate.format('MMMM D, YYYY [at] hh:mm A');\n};\n\n\nfunction validateAndFormatDate(dateString) {\n  if (!dateString) return '';\n\n  const date = moment(dateString);\n  if (!date.isValid()) {\n    console.error('Invalid date:', dateString);\n    return '';\n  }\n\n  return date.format('YYYY-MM-DD HH:mm:ss');\n}\n\nconst Step2 = () => {\n  const [pickupLocation, setPickupLocation] = useState(localStorage.getItem('pickupLocation') || '');\n  const [returnLocation, setReturnLocation] = useState(localStorage.getItem('selectedAddress') || '');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [vehicles, setVehicles] = useState([]);\n  const [filter, setFilter] = useState('');\n  const [filters, setFilters] = useState(defaultFilters);\n  const [currentPrice, setCurrentPrice] = useState(10000); // Placeholder, will be updated\n  const [maxPrice, setMaxPrice] = useState(10000); // Placeholder, will be updated\n  const [filteredVehicles, setFilteredVehicles] = useState([]); // State to hold filtered vehicles\n  const [finalReturnLocation, setFinalReturnLocation] = useState(localStorage.getItem('finalReturnLocation') || '');\n  const [dateFrom, setDateFrom] = useState(localStorage.getItem('dateFrom') || '');\n  const [dateTo, setDateTo] = useState(localStorage.getItem('dateTo') || '');\n  const calculateDuration = () => {\n    const from = moment(localStorage.getItem('dateFrom'));\n    const to = moment(localStorage.getItem('dateTo'));\n    return to.diff(from, 'days');\n  };\n  const [reservationDuration, setReservationDuration] = useState(calculateDuration());\n\n  function generateDescription(vehicle) {\n    const descriptors = [\n      \"Experience ultimate driving comfort with\",\n      \"Elevate your journey with the sophisticated\",\n      \"Turn heads in the sleek and stylish\",\n      \"Embrace the road ahead with unparalleled performance of\",\n      \"Discover the perfect blend of luxury and efficiency in\",\n    ];\n    const uniqueIdentifier = `${vehicle.brand} ${vehicle.mark} ${vehicle.year}`; // Changed model to mark\n    const randomIndex = Math.floor(Math.random() * descriptors.length);\n    const baseDescription = descriptors[randomIndex];\n    const uniquenessFactor = vehicle.color ? `in its stunning ${vehicle.color.title} color` : `with its unique charm`;\n\n    // Additional uniqueness for automatic vehicles\n    let automaticUniqueness = '';\n    if (vehicle.transmission === 'Automatic') {\n      // Generate unique aspects for automatic vehicles\n      const uniqueAspects = [\n        `featuring an advanced automatic transmission system for smooth and effortless gear shifts`,\n        `equipped with a state-of-the-art automatic gearbox designed for optimal performance and efficiency`,\n        `boasting an intuitive automatic transmission that adapts to your driving style for a personalized experience`,\n        `with an automatic transmission that ensures a seamless and engaging driving experience, no matter the destination`,\n        `offering an automatic transmission with dynamic shift programs that adjust to road conditions and driving habits`\n      ];\n      const aspectIndex = Math.floor(Math.random() * uniqueAspects.length);\n      automaticUniqueness = uniqueAspects[aspectIndex];\n    }\n\n    return `${baseDescription} the ${uniqueIdentifier} ${uniquenessFactor}. ${automaticUniqueness}`;\n  }\n\n  const filterVehiclesByPriceAndFilters = useCallback(() => {\n    const filtered = vehicles.filter(vehicle => {\n      const totalPrice = vehicle.price * reservationDuration;\n      const matchesFilter = filters.brandOrModel ? (vehicle.brand.toLowerCase().includes(filters.brandOrModel.toLowerCase()) || vehicle.mark.toLowerCase().includes(filters.brandOrModel.toLowerCase())) : true; // Changed model to mark\n      const matchesVehicleType = filters.vehicleType === 'All' || vehicle.type === filters.vehicleType;\n      const matchesFuelType = filters.fuelType === 'All' || vehicle.fuelType === filters.fuelType;\n      const matchesTransmission = filters.transmission === 'All' || vehicle.transmission === filters.transmission;\n      return totalPrice <= currentPrice && matchesFilter && matchesVehicleType && matchesFuelType && matchesTransmission;\n    });\n    setFilteredVehicles(filtered);\n  }, [vehicles, reservationDuration, filters, currentPrice]); // Dependencies of the function\n\n  useEffect(() => {\n    async function fetchVehicles() {\n      setLoading(true);\n      setError(null);\n  \n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          throw new Error(\"Token not found in localStorage\");\n        }\n  \n        const storedDateFrom = localStorage.getItem('dateFrom');\n        const storedDateTo = localStorage.getItem('dateTo');\n        if (!storedDateFrom || !storedDateTo) {\n          throw new Error(\"Date range is incomplete. Please select both start and end dates.\");\n        }\n  \n        const formattedDateFrom = validateAndFormatDate(storedDateFrom);\n        const formattedDateTo = validateAndFormatDate(storedDateTo);\n  \n        // Retrieve location URLs from localStorage\n        const pickupLocationURL = localStorage.getItem('PickupLocationURL');\n        const returnLocationURL = localStorage.getItem('ReturnLocationURL');\n        const customAddressURL = localStorage.getItem('CustomAddressURL');\n  \n        // Ensure there's enough information to proceed with the API call\n        if (!customAddressURL && (!pickupLocationURL || !returnLocationURL)) {\n          console.error(\"Location information is missing.\");\n          setError(\"Location information is missing. Please select both pickup and return locations.\");\n          setLoading(false);\n          return;\n        }\n  \n        let queryParams = new URLSearchParams({\n          date_from: formattedDateFrom,\n          date_to: formattedDateTo,\n        });\n  \n        // Use CustomAddressURL if available; otherwise, use the specific location URLs\n        if (customAddressURL) {\n          queryParams.set('pickup_location', customAddressURL);\n          queryParams.set('return_location', customAddressURL);\n        } else {\n          queryParams.set('pickup_location', pickupLocationURL);\n          queryParams.set('return_location', returnLocationURL);\n        }\n  \n        const response = await axios.get(`https://calm-retreat-90846-cd036e8a822e.herokuapp.com/https://api.rentsyst.com/v2/booking/search?${queryParams.toString()}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n  \n        // Process and set the vehicle data\n        const vehicleCatalog = response.data.vehicles.map(vehicle => {\n          const totalPrice = vehicle.price * reservationDuration; // Calculate total price based on duration\n          return {\n            ...vehicle,\n            totalPrice, // Add totalPrice to each vehicle object\n            description: generateDescription(vehicle),\n          };\n        });\n        setVehicles(vehicleCatalog);\n        setFilteredVehicles(vehicleCatalog);\n      } catch (error) {\n        console.error('Failed to fetch vehicles:', error);\n        setError('Failed to fetch available vehicles. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    }\n  \n    fetchVehicles();\n  }, [reservationDuration]); // Added reservationDuration to the dependency array\n\n  const resetFilters = useCallback(() => {\n    setFilter('');\n    setFilters(defaultFilters);\n    setCurrentPrice(maxPrice); // Reset to maxPrice when filters are reset\n    filterVehiclesByPriceAndFilters(); // Reapply filters after reset\n  }, [maxPrice, setFilter, setFilters, setCurrentPrice, filterVehiclesByPriceAndFilters]); // Include all dependencies\n\n  useEffect(() => {\n    filterVehiclesByPriceAndFilters();\n  }, [filterVehiclesByPriceAndFilters]); // Now depends on filterVehiclesByPriceAndFilters\n\n  const handleTripPriceChange = (event) => {\n    setCurrentPrice(Number(event.target.value));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('finalReturnLocation', finalReturnLocation);\n    localStorage.setItem('dateFrom', dateFrom);\n    localStorage.setItem('dateTo', dateTo);\n  }, [finalReturnLocation, dateFrom, dateTo, reservationDuration]);\n\n  useEffect(() => {\n    resetFilters();\n  }, [resetFilters]); // Now depends on resetFilters\n\n  return (\n    <div>\n      <div className=\"top-bar\" style={{ width: '100%', position: 'relative', paddingTop: '20px', fontSize: '16px' }}>\n        <img src=\"/logo.png\" alt=\"Logo\" className=\"logo\" style={{ position: 'absolute', top: '10px', left: '10px', marginTop: '0' }} />\n        <div className=\"reservation-details\" style={{ marginLeft: '120px', marginTop: '20px', display: 'flex', alignItems: 'center', color: '#eac831', fontSize: '12px' }}>\n          <p>Location: <span className=\"detail-value\">{pickupLocation}</span></p>\n          <p>Date From: <span className=\"detail-value\">{safeDateFormat(dateFrom)}</span></p>\n          <p>Date To: <span className=\"detail-value\">{safeDateFormat(dateTo)}</span></p>\n          <p>Duration: <span className=\"detail-value\">{reservationDuration} days</span></p>\n        </div>\n      </div>\n      <div className=\"catalog-container\" style={{ display: 'flex', justifyContent: 'space-between', paddingTop: '20px' }}>\n        <div className=\"vehicle-list\" style={{ zIndex: 9999, width: 'calc(100% - 320px)', height: '100%', overflowY: 'auto', overflowX: 'hidden', msOverflowStyle: 'none', scrollbarWidth: 'none', marginTop: '20px' }}>\n          {loading && <p>Loading available vehicles...</p>}\n          {error && <p>{error}</p>}\n          {!loading && !error && filteredVehicles.length > 0 && (\n            <div className=\"vehicle-grid\">\n              {filteredVehicles.map((vehicle) => {\n                return (\n                  <div key={vehicle.id} className=\"vehicle-item\">\n                    <img src={vehicle.thumbnail} alt={`${vehicle.brand} ${vehicle.mark}`} className=\"vehicle-thumbnail\" />\n                    <div className=\"vehicle-info\">\n                      <h3>{`${vehicle.brand} ${vehicle.mark} ${vehicle.year}`}</h3>\n                      <p>Color: <span style={{ color: vehicle.color.value }}>{vehicle.color.title}</span></p>\n                      <div className=\"vehicle-features\">\n                        <h4>Key Features:</h4>\n                        <ul>\n                          <li>Fuel Efficiency</li>\n                          <li>Navigation System</li>\n                          <li>Air Conditioning</li>\n                          <li>Safety Features</li>\n                          <li>Unlimited Mileage</li>\n                        </ul>\n                      </div>\n                      <div className=\"vehicle-description-container\" style={{ height: '15em', overflow: 'hidden', display: '-webkit-box', WebkitLineClamp: '10', WebkitBoxOrient: 'vertical' }}>\n                        <p className=\"vehicle-description\">{vehicle.description}</p>\n                      </div>\n                      <p className=\"price-info\" style={{ color: '#eac831' }}>Daily Price: ${vehicle.price} | Trip Price: ${vehicle.totalPrice}</p>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n        <div className=\"sidebar\" style={{ marginTop: '20px', width: '180px' }}>\n          <div className=\"filter-section\">\n            <h3 className=\"gold-line\">Filter by brand or model</h3>\n            <input\n              type=\"text\"\n              placeholder=\"Enter brand or model\"\n              value={filter}\n              onChange={e => setFilters({ ...filters, brandOrModel: e.target.value })}\n              className=\"filter-input\"\n            />\n          </div>\n          <div className=\"filter-section\">\n            <h3 className=\"gold-line\">Vehicle Type</h3>\n            <select\n              value={filters.vehicleType}\n              onChange={e => setFilters({ ...filters, vehicleType: e.target.value })}\n            >\n              <option value=\"All\">All</option>\n              <option value=\"Sedan\">Sedan</option>\n              <option value=\"SUV\">SUV</option>\n              <option value=\"Truck\">Truck</option>\n            </select>\n          </div>\n          <div className=\"filter-section\">\n            <h3 className=\"gold-line\">Fuel Type</h3>\n            <select\n              value={filters.fuelType}\n              onChange={e => setFilters({ ...filters, fuelType: e.target.value })}\n            >\n              <option value=\"All\">All</option>\n              <option value=\"Gasoline\">Gasoline</option>\n              <option value=\"Diesel\">Diesel</option>\n            </select>\n          </div>\n          <div className=\"filter-section\">\n            <h3 className=\"gold-line\">Transmission</h3>\n            <select\n              value={filters.transmission}\n              onChange={e => setFilters({ ...filters, transmission: e.target.value })}\n            >\n              <option value=\"All\">All</option>\n              <option value=\"Automatic\">Automatic</option>\n              <option value=\"Manual\">Manual</option>\n            </select>\n          </div>\n          <div className=\"filter-section\">\n            <h3 className=\"gold-line\">Max Trip Price</h3>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max={maxPrice}\n              value={currentPrice}\n              onChange={handleTripPriceChange}\n              step=\"10\"\n            />\n            <div className=\"price-label\">\n              <span>${currentPrice}</span>\n            </div>\n          </div>\n          <div className=\"reset-filter\">\n            <button className=\"button-gold-line-width\" onClick={resetFilters}>Reset Filters</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Step2;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}